<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Psykologi Studie App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6; /* bg-gray-100 */
            color: #1f2937; /* gray-800 */
        }
        .container {
            max-width: 64rem; /* max-w-4xl */
            margin: 0 auto;
            padding: 1rem;
        }
        /* --- Flashcard Styles --- */
        .flashcard-section {
            display: block; /* Vises som standard */
        }
        .card {
            transform-style: preserve-3d;
            transition: transform 0.6s;
        }
        .card.is-flipped {
            transform: rotateY(180deg);
        }
        .card-face {
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1.5rem;
            text-align: center;
        }
        .card-front-display {
            background-color: white;
            color: #1f2937;
            font-weight: 600;
        }
        .card-back-display {
            background-color: #3b82f6;
            color: white;
            font-weight: 500;
            transform: rotateY(180deg);
        }
        .card-container-wrapper {
            transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
        }
        .card-container-wrapper.fade-out {
            opacity: 0;
            transform: scale(0.95);
        }

        /* --- Quiz Styles --- */
        .quiz-section {
            display: none; /* Skjult som standard */
        }
        .chapter-title {
            font-size: 2.25rem; /* text-3xl */
            font-weight: 700; /* font-bold */
            color: #1a202c; /* text-gray-900 */
            margin-top: 2.5rem; /* mt-10 */
            margin-bottom: 1.5rem; /* mb-6 */
            border-bottom: 2px solid #e2e8f0; /* border-gray-300 */
            padding-bottom: 0.5rem;
        }
        .question-card {
            background-color: white;
            border-radius: 0.75rem; /* rounded-xl */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); /* shadow-md */
            padding: 1.5rem; /* p-6 */
            margin-bottom: 1.5rem; /* mb-6 */
        }
        .answer-option {
            display: flex;
            align-items: center;
            padding: 0.75rem 1rem; /* py-3 px-4 */
            margin-bottom: 0.5rem; /* mb-2 */
            background-color: #f9fafb; /* bg-gray-50 */
            border-radius: 0.5rem; /* rounded-lg */
            cursor: pointer;
            transition: background-color 0.2s;
            border: 1px solid #e5e7eb; /* border-gray-200 */
        }
        .answer-option:hover:not(.correct-answer):not(.incorrect-answer) {
            background-color: #f3f4f6; /* bg-gray-100 */
        }
        .answer-option input[type="radio"] {
            margin-right: 0.75rem; /* mr-3 */
        }
        .correct-answer {
            background-color: #d1fae5; /* bg-green-100 */
            border-color: #34d399; /* border-green-400 */
        }
        .incorrect-answer {
            background-color: #fee2e2; /* bg-red-100 */
            border-color: #f87171; /* border-red-400 */
        }
        .explanation {
            margin-top: 0.5rem;
            font-size: 0.875rem; /* text-sm */
            color: #4b5563; /* text-gray-700 */
        }
        .submit-btn {
            background-color: #2563eb; /* bg-blue-700 */
            color: white;
            font-weight: 600; /* font-semibold */
            padding: 0.75rem 1.5rem; /* py-3 px-6 */
            border-radius: 0.5rem; /* rounded-lg */
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06); /* shadow-md */
            transition: background-color 0.2s;
        }
        .submit-btn:hover:not(:disabled) {
            background-color: #1d4ed8; /* bg-blue-800 */
        }
        .submit-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .result-message {
            margin-top: 1rem;
            font-size: 1.125rem; /* text-lg */
            font-weight: 500; /* font-medium */
            text-align: center;
        }
        .correct {
            color: #059669; /* text-green-700 */
        }
        .incorrect {
            color: #dc2626; /* text-red-700 */
        }
        .quiz-mode-container {
            display: none; /* Hidden by default, shown by JS */
        }
    </style>
</head>
<body class="bg-gray-100 flex flex-col items-center justify-center min-h-screen p-4">

    <div class="w-full max-w-2xl mx-auto mb-8">
        <h1 class="text-4xl font-extrabold text-center text-gray-800 mb-4">Psykologi Studie App</h1>
        <p class="text-center text-gray-600 mb-6">√òv dig i dit studiemateriale!</p>

        <!-- Main Navigation buttons for sections -->
        <div class="flex justify-center space-x-4 mb-8">
            <button id="show-flashcards-btn" class="submit-btn bg-blue-600 hover:bg-blue-700">Flashcards</button>
            <button id="show-quiz-btn" class="submit-btn bg-gray-500 hover:bg-gray-600">Multiple Choice Quiz</button>
        </div>
    </div>

    <!-- Flashcards Section -->
    <div id="flashcard-section" class="w-full max-w-2xl mx-auto flashcard-section">
        <h2 class="text-3xl font-bold text-center text-gray-800 mb-4">Flashcards</h2>
        <!-- Category selection and options -->
        <div class="mb-6 text-center">
            <label for="category-select" class="block text-gray-700 text-sm font-bold mb-2">V√¶lg kategori:</label>
            <select id="category-select" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline max-w-xs">
                <!-- Options will be populated by JavaScript -->
            </select>
            <div class="mt-4 flex flex-col md:flex-row items-center justify-center space-y-2 md:space-y-0 md:space-x-4">
                <button id="shuffle-btn" class="bg-purple-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed w-40 md:w-auto">
                    Bland kort
                </button>
                <div class="flex items-center">
                    <input type="checkbox" id="show-back-first-toggle" class="form-checkbox h-5 w-5 text-blue-600 rounded">
                    <label for="show-back-first-toggle" class="ml-2 text-gray-700 select-none">Vis bagside f√∏rst</label>
                </div>
            </div>
        </div>

        <!-- Card container -->
        <div id="card-container-wrapper" class="card-container-wrapper">
            <div id="flashcard" class="card w-full h-80 md:h-96 rounded-2xl shadow-lg cursor-pointer">
                <!-- Front of the card (what's initially shown) -->
                <div id="card-display-front" class="card-face card-front-display rounded-2xl">
                    <p id="card-front-text" class="text-2xl md:text-3xl"></p>
                </div>
                <!-- Back of the card (what's revealed on flip) -->
                <div id="card-display-back" class="card-face card-back-display rounded-2xl">
                    <p id="card-back-text" class="text-xl md:text-2xl"></p>
                </div>
            </div>
        </div>

        <!-- Feedback buttons for flashcards -->
        <div id="flashcard-feedback-buttons" class="mt-4 flex justify-center space-x-4 hidden">
            <button id="feedback-correct-btn" class="bg-green-500 text-white font-semibold py-2 px-4 rounded-lg shadow-md hover:bg-green-600 transition-colors">
                Rigtigt üòä
            </button>
            <button id="feedback-unsure-btn" class="bg-yellow-500 text-white font-semibold py-2 px-4 rounded-lg shadow-md hover:bg-yellow-600 transition-colors">
                Ikke sikker ü§î
            </button>
            <button id="feedback-incorrect-btn" class="bg-red-500 text-white font-semibold py-2 px-4 rounded-lg shadow-md hover:bg-red-600 transition-colors">
                Forkert üòû
            </button>
        </div>

        <!-- Navigation and progress -->
        <div class="mt-8 flex items-center justify-between">
            <button id="prev-btn" class="bg-white text-gray-700 font-semibold py-3 px-6 rounded-lg shadow-md hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                Forrige
            </button>
            <p id="progress-text" class="text-gray-600 font-medium">Kort 0 / 0</p>
            <button id="next-btn" class="bg-blue-600 text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:bg-blue-700 transition-colors">
                N√¶ste
            </button>
        </div>
    </div>

    <!-- Multiple Choice Quiz Section -->
    <div id="quiz-section" class="w-full max-w-4xl mx-auto quiz-section">
        <h2 class="text-3xl font-bold text-center text-gray-800 mb-4">Multiple Choice Quiz</h2>
        <p class="text-center text-gray-600 mb-6">Test din viden om Aronson et al. (2021) Social Psychology.</p>

        <!-- Quiz Mode Selection -->
        <div class="flex justify-center space-x-4 mb-8">
            <button id="show-all-questions-mode-btn" class="submit-btn bg-blue-600 hover:bg-blue-700">Alle sp√∏rgsm√•l</button>
            <button id="show-one-by-one-mode-btn" class="submit-btn bg-gray-500 hover:bg-gray-600">Et sp√∏rgsm√•l ad gangen</button>
        </div>

        <!-- Chapter Selection (Applies to both quiz modes) -->
        <div class="mb-6 text-center">
            <label for="quiz-chapter-select" class="block text-gray-700 text-sm font-bold mb-2">V√¶lg kapitler:</label>
            <select id="quiz-chapter-select" multiple class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline max-w-xs h-32">
                <!-- Options will be populated by JavaScript -->
            </select>
        </div>

        <!-- All Questions Mode Container -->
        <div id="all-questions-mode-container" class="quiz-mode-container">
            <div class="text-center mb-6">
                <button id="start-all-quiz-btn" class="submit-btn mt-4">Start Quiz</button>
            </div>
            <div id="quiz-question-container">
                <!-- Questions will be loaded here by JavaScript -->
            </div>
            <div class="text-center mt-8">
                <button id="submit-quiz-btn" class="submit-btn" disabled>Tjek svar</button>
                <button id="restart-all-quiz-btn" class="submit-btn ml-4 hidden">Start forfra</button>
            </div>
            <div id="quiz-results" class="result-message hidden">
                <!-- Results will be displayed here -->
            </div>
        </div>

        <!-- One Question at a Time Mode Container -->
        <div id="one-by-one-mode-container" class="quiz-mode-container hidden">
            <div class="text-center mb-6">
                <p class="text-gray-700 text-sm font-bold mb-2">Aktive kapitler: <span id="active-chapters-display">Kapitel 1</span></p>
                <button id="start-one-by-one-quiz-btn" class="submit-btn mt-4">Start Enkelt Sp√∏rgsm√•l Quiz</button>
            </div>

            <div id="single-question-display" class="question-card hidden">
                <p class="font-semibold text-lg mb-4 text-gray-800" id="single-question-text"></p>
                <div class="options-container" id="single-options-container">
                    <!-- Options will be loaded by JavaScript -->
                </div>
                <p class="explanation mt-2 hidden" id="single-explanation-text"></p>
            </div>

            <div class="text-center mt-8">
                <p id="single-quiz-progress" class="text-gray-600 font-medium mb-4">Sp√∏rgsm√•l 0 / 0</p>
                <button id="check-single-answer-btn" class="submit-btn" disabled>Tjek Svar</button>
                <button id="next-single-question-btn" class="submit-btn ml-4 hidden">N√¶ste Sp√∏rgsm√•l</button>
                <button id="restart-single-quiz-btn" class="submit-btn ml-4 hidden">Start Enkelt Sp√∏rgsm√•l Quiz Forfra</button>
            </div>
            <div id="single-quiz-results" class="result-message hidden">
                <!-- Results for one-by-one mode -->
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => { // All JavaScript is now inside this listener
            console.log("DOM fully loaded and parsed. Initializing app...");

            // --- DATA: Flashcard content opdelt efter kategori ---
            const allFlashcardCategories = {
                 "Keltner 2006 - Evolution & F√∏lelser": [
                    { front: "Social-funktionel tilgang", back: "En tilgang hvor psykologiske f√¶nomener ses som havende et socialt form√•l og en evolution√¶r funktion for at l√∏se overlevelses- og reproduktionsproblemer." },
                    { front: "De 4 analyseniveauer for f√∏lelser", back: "Intra-individuel (individets respons), Dyadisk (interaktion mellem to), Gruppe (f√¶lles m√•l), og Kulturel (normer og v√¶rdier)." },
                    { front: "Reciprok altruisme", back: "At hj√¶lpe en anden med forventning om geng√¶ldelse senere. En form for langsigtet, gensidig samarbejde, der er grundlaget for social udveksling." },
                    { front: "Eksaptation (Exaptation)", back: "En egenskab, der oprindeligt udviklede sig til √©t form√•l, men senere genbruges til en ny funktion (f.eks. fjer til isolering, der senere bruges til flyvning)." },
                    { front: "Pr√¶adaptation (Preadaptation)", back: "En eksisterende egenskab, der tilf√¶ldigvis er velegnet til en ny funktion, der endnu ikke er opst√•et. Selve potentialet i egenskaben." },
                    { front: "Social Affordance (Sociale handlemuligheder)", back: "De signaler i et milj√∏ eller hos en person, der muligg√∏r eller 'inviterer' til en bestemt social adf√¶rd (f.eks. et smil inviterer til samtale)." },
                    { front: "F√∏lelser som social-moralske intuitioner", back: "F√∏lelser giver hurtige 'mavefornemmelser' om komplekse sociale og moralske sp√∏rgsm√•l, f.eks. vrede ved kr√¶nkede rettigheder eller afsky ved urenhed." },
                    { front: "F√∏lelsers rolle i personlighed", back: "Individuelle forskelle i f√∏lelsesm√¶ssighed (f.eks. neuroticisme) er en kernekomponent i personlighed og ses som strategier til at navigere i det sociale milj√∏." },
                    { front: "Forskellen p√• 'potentiale' og 'praksis' i f√∏lelser", back: "Potentiale: Den universelle, biologiske evne til at f√∏le. Praksis: Hvordan f√∏lelser rent faktisk bruges og v√¶rds√¶ttes i en specifik kultur." },
                    { front: "Menneskets unikke f√∏lelsesliv (vs. primater)", back: "Skyldes st√∏rre frontal cortex, sprog og kultur, som muligg√∏r kobling af f√∏lelser til abstrakte ideer, hukommelse og moralsk l√∏ftning." },
                    { front: "Hyperkognisering af f√∏lelser", back: "N√•r en kultur giver en bestemt f√∏lelse en central rolle og opmuntrer til dens udtryk og oplevelse (f.eks. skam i hierarkiske samfund)." },
                    { front: "Hypokognisering af f√∏lelser", back: "N√•r en kultur giver negative konnotationer og afskr√¶kker fra individet fra at vise dem (f.eks. s√•rbarhed blandt m√¶nd i dag)." },
                    { front: "Komplement√¶re reaktioner", back: "N√•r et f√∏lelsesm√¶ssigt udtryk fremkalder en specifik, modsvarende reaktion hos andre (f.eks. vrede fremkalder frygt; n√∏d fremkalder sympati)." },
                    { front: "Dispositionel oplevelse af f√∏lelser", back: "En persons vedvarende tendens til at opleve en bestemt f√∏lelse. Dette kan forudsige langsigtede livsresultater (f.eks. vrede i barndommen -> lavere uddannelse)." },
                    { front: "Orbitofrontal cortex' funktion", back: "Central for social adf√¶rd og f√∏lelsesm√¶ssig regulering. Skader her kan f√∏re til antisocial adf√¶rd og mangel p√• f.eks. forlegenhed." }
                ],
                "T√∏nnesvang 2015 - Kvadrantmodellen": [
                    { front: "Kvadrantmodellen", back: "En model, der indkredser fire grundl√¶ggende perspektiver for at forst√• et f√¶nomen (udviklet af Ken Wilber)." },
                    { front: "Integrativ Perspektivisme", back: "En tilgang til at arbejde med og skabe helhed i flere perspektiver p√• √©n gang. Kvadrantmodellen er en styremodel for dette." },
                    { front: "√òvre H√∏jre Kvadrant", back: "Det objektive perspektiv p√• det enkelte individ. Fokus p√• adf√¶rd, kropslig fysik, dispositioner, biologi og neurologi ‚Äì det, der kan observeres." },
                    { front: "√òvre Venstre Kvadrant", back: "Det subjektive perspektiv p√• den enkelte persons f√¶nomenologi. Fokus p√• oplevelse, tanker, f√∏lelser, intentioner, v√¶rdier, behov og mental organisering ‚Äì det, der ikke kan observeres." },
                    { front: "Nedre H√∏jre Kvadrant", back: "Det interobjektivet perspektiv p√• f√¶nomener i flertal. Fokus p√• systemer, regulativer, retningslinjer, teknologi og interaktioner ‚Äì det, der kan observeres i grupper." },
                    { front: "Nedre Venstre Kvadrant", back: "Det intersubjektive perspektiv p√• f√¶nomener i flertal. Fokus p√• kultur, delt viden, normer og tydningshorisonter ‚Äì det, der ikke umiddelbart kan observeres, men kan fortolkes i grupper." },
                    { front: "Tetra-opst√•r ('tetra-arises')", back: "De fire kvadranter er ikke uafh√¶ngige, men er fire samtidige sider af sagen eller f√¶nomenet, der gensidigt p√•virker hinanden." },
                    { front: "Metodisk reduktion", back: "N√•r man v√¶lger at fokusere p√• √©n eller f√• kvadranter og bevidst ser bort fra andre for at sk√¶rpe sit fokus i en specifik kontekst." },
                    { front: "Udviklingslinjer", back: "Forskellige kapaciteter (f.eks. kognitiv, emotionel, moralsk), der udvikler sig relativt uafh√¶ngigt inden for hver kvadrant." },
                    { front: "Udviklingsniveauer", back: "Inddeling af udviklingslinjer efter kompleksitet og inklusion (f.eks. egocentrisk, etnocentrisk, verdenscentrisk)." },
                    { front: "Egocentrisk niveau", back: "Perspektiv centreret omkring en selv; ens egne meninger og √∏nsker prioriteter over andres ('mig mod verden')." },
                    { front: "Etnocentrisk niveau", back: "Perspektiv, der omfatter den gruppe eller de relationer, man er en del af; √•ben for forskellighed inden for gruppens rammer ('mig med os, os mod dem')." },
                    { front: "Verdenscentrisk niveau", back: "Perspektiv, der inkluderer mennesker, man aldrig har m√∏dt, og synspunkter man er uenig i; evne til at forholde sig til andres synspunkter og se jorden som en helhed." },
                    { front: "Meningsfuld uenighed", back: "Evnen til at anerkende andres synspunkter som 'delsandheder' og bruge uenigheden konstruktivt til at skabe et bredere perspektiv og helhedsforst√•else." },
                    { front: "Kvadrantlogisk organisationsanalyse", back: "Anvendelse af kvadrantmodellen til at analysere og samtale om, hvordan en organisation har udviklet sig (fortid, nutid, fremtid) med fokus p√• adf√¶rd, oplevelse, system og kulturstrukturer." },
                    { front: "Looking At-perspektiv", back: "At se p√• en person udefra som en funktionel genstand og vurdere dennes kompetence til at mestre funktioner i de fire kvadranter." },
                    { front: "Looking As-perspektiv", back: "At fors√∏ge at s√¶tte sig i en persons sted og forst√•, hvordan det opleves for personen at v√¶re til stede i de fire kvadranter (indefra og ud)." }
                ],
                "Aronson Kapitel 1: Introduktion": [
                    { front: "Construal (Konstruktion)", back: "M√•den mennesker ser, forst√•r og fortolker den sociale verden. Konstrueret ud fra grundmotiverne at 'have det godt med sig selv' og 'at v√¶re pr√¶cis'." },
                    { front: "Behaviorism (Behaviorisme)", back: "Gren af psykologi, der tror, at alle psykologiske f√¶nomener kan forst√•s ud fra selvforst√¶rkende kr√¶fter i individets omgivelser (bel√∏nning/straf)." },
                    { front: "Gestalt psykologi", back: "Gren af psykologi, der tydeligg√∏r vigtigheden af at fokusere p√•, hvordan en situation/objekt anses i det subjektive anliggende fremfor, hvordan den fremst√•r objektivt." },
                    { front: "Naiv realisme", back: "Overbevisningen om at vi ser tingene, som de virkelig er, og en underminering af, hvor meget vi tolker til vores fordel. Kan f√∏re til uvilje mod kompromis i konflikter." },
                    { front: "Fundamentale attribution error (Fundamentale attributionsfejl)", back: "Tendensen til at overvurdere interne √•rsager og undervurdere eksterne (situationelle) √•rsager, n√•r vi forklarer andres adf√¶rd." }
                ],
                "Aronson Kapitel 2: Metodologi": [
                    { front: "Hindsight Bias (Bagklogskabsbias)", back: "Tendensen til at tro, at svaret var √•benlyst, efter man har f√•et svaret ('Jeg vidste det jo hele tiden!')." },
                    { front: "Observationsmetoden", back: "Forskeren beskriver f√¶nomener ved at observere dem. Inkluderer etnografi og arkivanalyse. Begr√¶nset til 'hvad', ikke 'hvorfor'." },
                    { front: "Etnografi", back: "Metode hvor forskere unders√∏ger en kultur indefra uden at forcere en forudantagelse over kulturen." },
                    { front: "Interjudge reliability (Interbed√∏mmerp√•lidelighed)", back: "Flere uafh√¶ngige observat√∏rer er enige om observationer, hvilket styrker evidensen (f.eks. hvis 5 personer har givet samme vurdering)." },
                    { front: "Arkivanalyse", back: "Forskeren unders√∏ger tilg√¶ngelige tekster og materialer (sociale medier, dagb√∏ger) om et subjekt for at vurdere det." },
                    { front: "Korrelationsmetoden", back: "Forudser sammenh√¶nge mellem variable (n√•r vi ved X, kan vi s√• forudsige Y?). Korrelationskoefficient fra -1 til 1. Forklarer ikke kausalitet." },
                    { front: "Eksperimentel metode", back: "Unders√∏ger kausalitet (er X et resultat af Y?). 'Method of choice'. Involverer uafh√¶ngige og afh√¶ngige variable." },
                    { front: "Uafh√¶ngig variabel (Independent Variable)", back: "Den variabel forskeren √¶ndrer/manipulerer for at unders√∏ge resultatet af denne √¶ndring." },
                    { front: "Afh√¶ngig variabel (Dependent Variable)", back: "Den variabel der f√•r en effekt af den uafh√¶ngige variabel ‚Äì det, der m√•les." },
                    { front: "Internal validity (Intern validitet)", back: "Sikrer at intet ud over den uafh√¶ngige variabel p√•virker den afh√¶ngige variabel, s√• kausalitet kan fastsl√•s (vha. random assignment)." },
                    { front: "Probability value (p-value)", back: "Hvor sandsynligt det er, at fors√∏gets resultat skyldes ren tilf√¶ldighed. Significant (trov√¶rdigt) n√•r v√¶rdien er under 5 ud af 100 (p < 0.05)." },
                    { front: "External validity (Ekstern validitet)", back: "Om resultaterne af et eksperiment kan generaliseres til andre situationer (situations) og andre mennesker (people)." },
                    { front: "Psykologisk realisme", back: "Realismen af den psykologiske effekt en situation trigger i et eksperiment. √òges, hvis fors√∏gspersoner tror, de er i et virkeligt scenarie (ofte vha. 'cover story')." },
                    { front: "Field experiments (Felt eksperimenter)", back: "Forskere ops√¶tter scenarier i virkeligheden fremfor kontrollerede forhold. H√∏jere ekstern validitet, men sv√¶rere at kontrollere interne parametre." },
                    { front: "The basic dilemma of a social psychologist", back: "Afvejningen mellem intern og ekstern validitet. L√∏sning: Brug flere eksperimenter til at drage konklusioner." },
                    { front: "Replikationer (Replications)", back: "Den ultimative test af et fors√∏gs eksterne validitet; hvis et fors√∏g kan gentages med samme resultat, er det mere generaliserbart." },
                    { front: "Meta-analyse", back: "En teknik hvor man tager flere studier og tager gennemsnittet af resultatet for at finde ud af, om der er en sammenh√¶ng." },
                    { front: "Basic research (Grundforskning)", back: "Forskning udelukkende med nysgerrighed som motiv for at forst√• et f√¶nomen." },
                    { front: "Applied research (Anvendt forskning)", back: "Forskning der fors√∏ger at l√∏se et specifikt samfundsproblem." }
                ],
                "Aronson Kapitel 4: Social Perception": [
                    { front: "Social perception", back: "Studiet af hvordan vi former vores indtryk af andre og udleder konklusioner p√• det. Hj√¶lper os med at forst√• og forudse den sociale sf√¶re." },
                    { front: "Nonverbal kommunikation", back: "Ansigtsmimik, √∏jenkontakt, kropssprog, osv. Vigtigt for f√∏rsteh√•ndsindtryk og forst√•else af f√∏lelser. Kan variere kulturelt (emblemer)." },
                    { front: "Darwin og ansigtsmimik", back: "Hypotese: Universalitet i ansigtsmimik for grundf√∏lelser som angst, afsky, stolthed (men ikke skam i alle kulturer)." },
                    { front: "Affect blends (F√∏lelsesblandinger)", back: "Mennesker viser ofte flere f√∏lelser p√• √©t ansigt samtidigt (f.eks. afsky og vrede), hvilket g√∏r afkodning sv√¶rere." },
                    { front: "Emblemer", back: "Kulturspecifikke kropsudtryk (f.eks. 'fuckfingeren'), der ikke forst√•s universelt og kan give misforst√•elser." },
                    { front: "F√∏rsteh√•ndsindtryk", back: "Hurtige vurderinger (under 100 ms) baseret p√• ansigtsudtryk. F.eks. baby-lignende ansigter antages at v√¶re naive/underdanige." },
                    { front: "Thin-slicing (Tyndsk√¶ring)", back: "Vores evne til at lave meningsfulde vurderinger af mennesker p√• meget kort tid. Ofte ingen stor forskel fra langvarige indtryk i samme dom√¶ne." },
                    { front: "Prim√¶reffekten (Primacy effect)", back: "Den information vi l√¶rer f√∏rst om en person, har st√∏rst betydning for, hvordan vi tolker efterf√∏lgende information. Vi udfylder huller ud fra det f√∏rste indtryk." },
                    { front: "Overbevisningsvedholdenhed (Belief Perseverance)", back: "Tendensen til at fastholde tidligere overbevisninger, selv n√•r de vises at v√¶re forkerte. En grund til f√∏rsteh√•ndsindtryks magt." },
                    { front: "Causal attribution (√Örsagsforklaring)", back: "Studiet af hvordan vi udleder vurderinger af √•rsager til folks adf√¶rd. Skelner mellem interne og eksterne forklaringer." },
                    { front: "Intern (dispositionel) forklaring (Internal attribution)", back: "Personens adf√¶rd forklares ved noget inde i ham/hende (personlighed, evner, intentioner)." },
                    { front: "Ekstern (situationel) forklaring (External attribution)", back: "Personens adf√¶rd forklares gennem √•rsager, der kommer udefra (situationen, held, andres handlinger)." },
                    { front: "Kovariationsmodellen (The Covariation Model)", back: "Model der forklarer, hvordan vi bruger information fra flere situationer til at afg√∏re, om adf√¶rd skyldes interne (personlige) eller eksterne (situationelle) √•rsager." },
                    { front: "Konsistens (Consistency)", back: "Opf√∏rer personen sig p√• samme m√•de i denne situation p√• forskellige tidspunkter? (Del af kovariationsmodellen)." },
                    { front: "S√¶rpr√¶g (Distinctiveness)", back: "Opf√∏rer personen sig p√• denne m√•de i andre situationer? (Del af kovariationsmodellen)." },
                    { front: "Konsensus (Consensus)", back: "Opf√∏rer andre mennesker sig p√• samme m√•de i denne situation? (Del af kovariationsmodellen)." },
                    { front: "Den fundamentale attributionsfejl (Fundamental attribution error)", back: "Tendensen til at overvurdere interne √•rsager og undervurdere eksterne (situationelle) √•rsager, n√•r vi forklarer andres adf√¶rd." },
                    { front: "Perceptuel saliens (Perceptual Salience)", back: "Menneskets tendens til at fokusere p√• de mest tilsyneladende fremtr√¶dende aspekter af en given situation." },
                    { front: "Two-step attribution process (To-trins attributionsproces)", back: "Mennesker giver f√∏rst naturligt en intern √•rsag, og ved motivation/energi overvejes derefter en ekstern √•rsag." },
                    { front: "Self-serving attributions (Selvtjenende √•rsager)", back: "Tendensen til at tage intern credit for succeser ('jeg er klog') og skyde skylden p√• eksterne faktorer ved fiaskoer ('han gav mig en d√•rlig tekst')." },
                    { front: "Belief in a just world", back: "En forsvarsmekanisme hvor man, i m√∏det med andres tragedier, konkluderer at de har fortjent det, og at tragedier derfor ikke kan ramme en selv." },
                    { front: "The bias blindspot", back: "Tendensen til at tro at andre er mere tilb√∏jelige til kognitive biases (fordomme, tilb√∏jeligheder) end en selv." },
                    { front: "Analytisk tankestil (Vesten)", back: "Fokus p√• individets autonomi og objektive egenskaber, uden meget hensyn til kontekst eller andre personer." },
                    { front: "Holistisk tankestil (Asien)", back: "Fokus p√• de sociale gruppers autonomi, sammenh√¶nge, relationer og kontekst i vurderingen af f√¶nomener." }
                ],
                "Kapitel 1, Larsen": [
                    { front: "Mekanismer (Larsen)", back: "Handler om processen af personlighed: Input -> Beslutningsregler (personlighed) -> Output (reaktion). Ikke bevidst fremprovokeret, men automatisk under rette omst√¶ndigheder." },
                    { front: "Personlighed 'Inde i individet'", back: "Personlighedens tendens til at v√¶re nogenlunde stabil over l√¶ngere tid, selv ved fors√∏g p√• at nulstille den." },
                    { front: "Organiseret personlighed", back: "Indre regler/hierarki bestemmer, hvorn√•r og i hvilken r√¶kkef√∏lge lyster/impulser kommer. F.eks. at v√¶re vredeshyppig som personlighedstr√¶k, fordi regels√¶ttet oftere resulterer i vrede." },
                    { front: "Selektioner (Larsen)", back: "De valg vi tager i livet (interesser, karriere, venner) er udtryk for vores personlighed. Vi er i mindre kontrol end vi tror." },
                    { front: "Evokationer", back: "De reaktioner og f√∏lelser vi v√¶kker i andre, ofte ubevidst, som et resultat af vores v√¶rem√•de og udseende." },
                    { front: "Manipulation (Larsen)", back: "Hvordan vi bevidst fors√∏ger at √¶ndre folks adf√¶rd og beslutninger." },
                    { front: "3 niveauer af personlighedsanalyse (Larsen)", back: "1. Menneskelig natur (universale), 2. Gruppe/individ plan (bestemte), 3. Individets unikhed." },
                    { front: "Nomotetisk tilgang", back: "Statistiske sammenligninger mellem individer eller grupper for at finde generelle lovm√¶ssigheder." },
                    { front: "Ideografisk tilgang", back: "Tager udgangspunkt i et enkelt individ for at forst√• personens unikke psyke." },
                    { front: "6 dom√¶ner af viden omkring menneskelig natur (Larsen)", back: "1. Tr√¶k (Dispositionelt), 2. Biologiske begivenheder (Biologisk), 3. Konflikter (Intrapsykisk), 4. Kognition/Subjektiv oplevelse (Kognitivt-erfaringsm√¶ssigt), 5. Sociale/kulturelle/k√∏nsbestemte positioner (Socialt og kulturelt), 6. Tilpasninger til livets udfordringer (Justeringsdom√¶net)." },
                    { front: "Dispositionelt dom√¶ne", back: "Fokus p√• personligheders karakteristika, hvordan de opst√•r, og hvordan folks adf√¶rd adskiller sig." },
                    { front: "Biologisk dom√¶ne", back: "Fokus p√• gener (arvelighed), psykofysiologi (biologiske funktioners effekt p√• personlighed) og evolution (funktioner af personlighedstr√¶k)." },
                    { front: "Intrapsykiske dom√¶ne", back: "Fokus p√• mentale mekanismer i personligheden, mange uden for bevidstheden (f.eks. Freuds dybt f√¶stede motiver)." },
                    { front: "Kognitive-erfaringsm√¶ssige dom√¶ne", back: "Fokus p√• menneskets tanker om sig selv/andre, opfattelse af verden, intelligens, m√•l og f√∏lelsesbehandling." },
                    { front: "Sociale og kulturelle dom√¶ne", back: "Fokus p√• hvordan kulturer, geografi og k√∏n p√•virker vores personlighed og relationer." },
                    { front: "Tilv√¶nningsdom√¶net (Adjustments)", back: "Fokus p√• hvordan personlighed bestemmer tilpasning til milj√∏er/situationer, risikovillighed, og studiet af personlighedsforstyrrelser som mangel p√• tilpasningsevne." },
                    { front: "En god personlighedsteori", back: "Skal 1. Vejlede forskere, 2. Organisere kendte fund, 3. Lave forudsigelser, 4. Have 'Parsimony' (simpelhed), 5. Have Kompatibilitet (med andre teorier)." },
                    { front: "Parsimony (parsimoni)", back: "En god teori er overordnet simpel med f√• antagelser og pr√¶misser, men skal stadig kunne forklare komplekse nuancer." },
                    { front: "Kompatibilitet (Larsen)", back: "En god teori passer ogs√• ind i andre dom√¶ner (f.eks. gener og fysiologi) uden at stride imod velfunderede teorier." }
                ],
               "Kapitel 8, Larsen": [
                    { front: "Naturlig selektion", back: "Teorien om, at liv optimeres gennem reproduktion og overlevelse af de bedst tilpassede arter. Egenskaber, der √∏ger overlevelse og reproduktion, nedarves." },
                    { front: "Seksuel selektion", back: "Processen hvor visse karakteristika foretr√¶kkes af det modsatte k√∏n (intersexuel selektion) eller giver fordele i konkurrence med samme k√∏n (intrasexuel konkurrence), hvilket √∏ger reproduktionssucces og udbredelse af disse tr√¶k." },
                    { front: "Intrasexuel konkurrence", back: "Konkurrence mellem medlemmer af samme k√∏n (typisk hanner) om adgang til partnere. De, der vinder, f√•r st√∏rre reproduktionssucces og videregiver deres gener." },
                    { front: "Intersexuel selektion", back: "N√•r √©t k√∏n (typisk hunner) v√¶lger partnere baseret p√• attraktive kvaliteter hos det modsatte k√∏n, f.eks. tegn p√• gode gener, ressourcer eller for√¶ldreinvestering." },
                    { front: "Gener og inklusiv fitness", back: "Den samlede reproduktionssucces af ens gener, ikke kun gennem eget afkom, men ogs√• gennem sl√¶gtninges afkom (som deler gener). Ideen om 'sl√¶gtsselektion'." },
                    { front: "Produkter af evolution√¶r proces", back: "Evolution√¶re processer resulterer i tre hovedtyper af produkter: \n1) **Adaptioner** (n√∏dvendige overlevelsesl√∏sninger), \n2) **Biprodukter (eksaptationer)** (utilsigtede sideeffekter, der kan f√• ny funktion), og \n3) **St√∏j/Tilf√¶ldigheder** (variabel adf√¶rd uden specifik funktion)." },
                    { front: "Adaptive problemer", back: "Specifikke udfordringer i et givent milj√∏, som mennesket (og dets forf√¶dre) historisk har m√∏dt og m√•tte l√∏se for at overleve og reproducere (f.eks. f√∏devaremangel, rovdyr, sygdomme)." },
                    { front: "Adaptioner", back: "Nedarvede og p√•lidelige l√∏sninger p√• adaptive problemer. De er m√•lrettede og udvikles over generationer for at tilpasse en art bedre til dens specifikke milj√∏." },
                    { front: "Hostile forces of nature", back: "En bred kategori af trusler mod overlevelse, som organismer m√• tilpasse sig. Dette inkluderer naturkatastrofer, f√∏devaremangel, rovdyr, parasitter, sygdomme og fjendtlige interaktioner med andre af samme art." },
                    { front: "Evolution√¶r psykologi (Pr√¶misser)", back: "Evolution√¶r psykologi bygger p√• f√∏lgende pr√¶misser: \n1. **Funktionalisme:** Vi kan kun forst√• en psykologisk mekanisme, n√•r vi forst√•r dens evolution√¶re funktion. \n2. **Dom√¶nespecifikke mekanismer:** Menneskesindet best√•r af mange specialiserede mekanismer, da mennesket har m√•ttet tilpasse sig mange forskellige problemer. \n3. **Testbarhed/Falsificerbarhed:** F√¶nomener skal unders√∏ges meget specifikt, s√• hypoteser nemmere kan efterpr√∏ves og falsificeres." },
                    { front: "Empirisk testning af evolution√¶re hypoteser", back: "Handler om at unders√∏ge meget specifikke f√¶nomener, s√• det nemmere kan efterpr√∏ves og falsificeres." },
                    { front: "K√∏nsforskelle i pardannelse", back: "M√¶nd og kvinder har historisk m√∏dt forskellige adaptive problemer, hvilket har f√∏rt til forskellige partnervalg-strategier. F.eks. kvinder mere kr√¶sne, m√¶nd mere tilb√∏jelige til seksuel variation." },
                    { front: "Restricted sexual strategy (Begr√¶nset seksuel strategi)", back: "Kvinders (og nogle m√¶nds) strategi; fokuserer p√• at finde en forpligtende partner, der signalerer for√¶ldreinvestering og langvarig stabilitet. Tager tid at vurdere en potentiel partner." },
                    { front: "Unrestricted sexual strategy (Ubegr√¶nset seksuel strategi)", back: "M√¶nds (og nogle kvinders) strategi; fokuserer p√• at opn√• mange seksuelle partnere for at maksimere reproduktionsmulighederne. Prioriterer ofte fysisk attraktivitet og er mindre fokuseret p√• langvarig forpligtelse." },
                    { front: "Life History Theory (Livshistorieteori)", back: "En evolution√¶r teori, der forklarer, hvordan organismer fordeler deres begr√¶nsede energi og ressourcer (tid, v√¶kst, reproduktion) over deres levetid for at maksimere reproduktiv fitness i et givent milj√∏. Det er et spektrum fra 'hurtig' til 'langsom' livshistorie." },
                    { front: "Milj√∏m√¶ssige udl√∏sere af individuelle forskelle", back: "Milj√∏forhold, f.eks. patogenrisiko, kan 'kalibrere' individuelle strategier. H√∏j risiko for patogener kan f.eks. f√∏re til pr√¶ference for konformitet og regelm√¶ssighed." },
                    { front: "Frequency-dependent selection (Frekvensafh√¶ngig selektion)", back: "En form for naturlig selektion, hvor fitness for et gen afh√¶nger af, hvor almindeligt det er i populationen. F.eks. kan en sj√¶lden 'snyder'-strategi v√¶re fordelagtig, indtil den bliver for udbredt." },
                    { front: "Tilh√∏rsbehovet", back: "Et grundl√¶ggende, universelt menneskeligt behov om at tilh√∏re en gruppe og undg√• social udst√∏delse. Dette behov er drevet af evolution√¶re fordele ved samarbejde, gensidig st√∏tte og beskyttelse i grupper." },
                    { front: "Social pain theory", back: "Teori om, at social udst√∏delse eller afvisning aktiverer de samme hjerneregioner, som er forbundet med fysisk smerte. Dette signalerer en form for 'social fare', der forbereder individet p√• at reagere og potentielt genoprette sociale b√•nd." },
                    { front: "Altruisme (evolution√¶r forklaring)", back: "Hj√¶lpsom adf√¶rd over for andre, selv med en omkostning for en selv. Evolution√¶rt forklares det ofte gennem sl√¶gtsselektion (hj√¶lp til genetisk besl√¶gtede) og gensidig altruisme (hj√¶lp med forventning om geng√¶ldelse). Sociale normer kan ogs√• p√•virke hj√¶lpsomhed." }
            ]

            };

            // --- QUIZ DATA: Aronson Multiple Choice Sp√∏rgsm√•l (Dette skal du selv inds√¶tte) ---
            const quizQuestions = [
              // Chapter 1
                {
                    chapter: "Chapter 1",
                    question: "1. Social psychology is the scientific study of",
                    options: [
                        "feelings, thoughts, and behaviors of people in social situations.",
                        "individual differences such as personality.",
                        "how people's social behaviors are shaped by their survival needs.",
                        "our cognitive processes such as memory and sensation."
                    ],
                    correctAnswer: "a",
                    feedback: "Socialpsykologi studerer hvordan tanker, f√∏lelser og adf√¶rd p√•virkes af andres tilstedev√¶relse."
                },
                {
                    chapter: "Chapter 1",
                    question: "2. For social psychologists, one of the likely explanations for why people in different cultures behave differently is because they",
                    options: [
                        "have different genetic makeup.",
                        "are influenced by different social factors.",
                        "have different evolutionary origins.",
                        "possess different personality traits."
                    ],
                    correctAnswer: "b",
                    feedback: "Socialpsykologer fokuserer p√• sociale faktorers indflydelse p√• adf√¶rd p√• tv√¶rs af kulturer."
                },
                {
                    chapter: "Chapter 1",
                    question: "3. Which one of the following statements is FALSE?",
                    options: [
                        "Personality psychology investigates individual differences.",
                        "Evolutionary psychology explains why we behave differently in social situations.",
                        "Biology and neuroscience focus on individuals in a social context.",
                        "All of the above."
                    ],
                    correctAnswer: "d",
                    feedback: "Alle p√•standene er sande undtagen den om evolution√¶r psykologi, da den forklarer universelle adf√¶rdsm√∏nstre."
                },
                {
                    chapter: "Chapter 1",
                    question: "4. Which of the following is an example of fundamental attribution error?",
                    options: [
                        "\"He is a lazy person and therefore he is late.\"",
                        "\"He is late to work due to heavy traffic congestion on the roads.\"",
                        "\"He did not talk during the party because he did not know anyone there.\"",
                        "None of the above."
                    ],
                    correctAnswer: "a",
                    feedback: "Den fundamentale attributionsfejl indeb√¶rer at man overvurderer interne faktorer (personlighed) fremfor eksterne (situation)."
                },
                {
                    chapter: "Chapter 1",
                    question: "5. What are the main differences between what social psychologists and personality psychologist examine?",
                    options: [
                        "Social psychology focuses on what makes one person unique, while personality psychology focuses on the shared features that make cultures different or similar to each other.",
                        "Social psychology focuses on individual differences. Personality psychology looks at how most people would behave in a situation.",
                        "Social psychology examines similarities in the ways that social influences can affect most people, whereas personality psychology examines the differences between individuals.",
                        "Social psychology focuses on personality traits whereas personality psychology examines the reasons that these personality traits came to be."
                    ],
                    correctAnswer: "c",
                    feedback: "Socialpsykologi ser p√• f√¶lles adf√¶rd p√•virket af sociale situationer, mens personlighedspsykologi fokuserer p√• individuelle forskelle."
                },
                {
                    chapter: "Chapter 1",
                    question: "6. Social psychology appears to have the largest overlap with which one of the following disciplines?",
                    options: [
                        "Biology and Neuroscience",
                        "Personality Psychology",
                        "Clinical Psychology",
                        "Sociology"
                    ],
                    correctAnswer: "d",
                    feedback: "Socialpsykologi og sociologi overlapper i deres fokus p√• grupper og sociale processer, selvom socialpsykologi fokuserer mere p√• individet i sociale kontekster."
                },
                {
                    chapter: "Chapter 1",
                    question: "7. Construal refers to the way in which",
                    options: [
                        "People objectively deconstruct social reality.",
                        "People communicate and exchange information.",
                        "People perceive, comprehend, and interpret the social world.",
                        "People test their own subjective theories."
                    ],
                    correctAnswer: "c",
                    feedback: "Construal er den subjektive fortolkning af den sociale verden."
                },
                {
                    chapter: "Chapter 1",
                    question: "8. Which of the following about Gestalt psychology is TRUE?",
                    options: [
                        "It was first proposed as a theory of how people perceive social world.",
                        "It was first proposed as a theory of how people learn information.",
                        "It was first proposed as a theory of how people develop mental modals.",
                        "None of the above."
                    ],
                    correctAnswer: "d",
                    feedback: "Gestaltpsykologi fokuserer p√• hvordan vi opfatter helheder, ikke p√• de specificerede teorier."
                },
                {
                    chapter: "Chapter 1",
                    question: "9. Which of the following statements about self-esteem is TRUE?",
                    options: [
                        "We tend to interpret social situations in a way that helps us preserve our self-esteem.",
                        "Self-esteem is primarily a personality psychology concept.",
                        "Self-esteem is the main factor driving fundamental attribution error.",
                        "None of the above."
                    ],
                    correctAnswer: "a",
                    feedback: "Mennesker fortolker ofte situationer for at bevare et positivt selvbillede."
                },
                {
                    chapter: "Chapter 1",
                    question: "10. Kimberly is late for a company meeting. To predict whether her supervisor will be angry at her, which question would a social psychologist be most likely to ask Kimberly's supervisor?",
                    options: [
                        "Are you an extraverted person?",
                        "Was Kimberly late in the previous week?",
                        "What do you think is the reason for Kimberly being late?",
                        "Is Kimberly generally a likeable individual?"
                    ],
                    correctAnswer: "c",
                    feedback: "Socialpsykologer fokuserer p√• situationelle fortolkninger og attributions."
                },
                { // From Aronson Social Psychology MC Answers.pdf, Chapter 1, Review Questions, Set 2
                    chapter: "Chapter 1",
                    question: "1. You are crossing the road when a car jumps the red light and almost hits you. You assume that the person is a reckless driver, but the driver is actually on his way to the hospital with a sick person in his car. Your assumption about the other person is an example of",
                    options: [
                        "Personality construction.",
                        "Fundamental attribution error.",
                        "Random guess.",
                        "None of the above."
                    ],
                    correctAnswer: "b",
                    feedback: "Du tilskriver personens adf√¶rd en intern disposition (hensynsl√∏s), selvom der var en ekstern situationel √•rsag."
                },
                {
                    chapter: "Chapter 1",
                    question: "2. Which of the following statements is true about Wall Street Game?",
                    options: [
                        "Calling it \"Community Game\" makes people more cooperative and calling it \"Wall Street Game\" makes people more competitive.",
                        "Calling it either \"Community Game\" or \"Wall Street Game\" has minimal effects on people's cooperative behaviors.",
                        "Calling it \"Community Game\" does not make people more cooperative while calling it \"Wall Street Game\" makes people more competitive.",
                        "Calling it \"Community Game\" makes people more cooperative while calling it \"Wall Street Game\" does not make people more competitive."
                    ],
                    correctAnswer: "a",
                    feedback: "Studiets navn p√•virker i h√∏j grad deltagerens adf√¶rd."
                },
                {
                    chapter: "Chapter 1",
                    question: "3. A person approaches you at the bus stop. He asks you if you would be willing to give him $2 for taking the next bus as he has just lost his wallet. According to social psychologists, which of the following reasons will most likely influence your decision?",
                    options: [
                        "The person's physical appeal.",
                        "The person's gender.",
                        "The person's age.",
                        "Your construal about the situation."
                    ],
                    correctAnswer: "d",
                    feedback: "Vores tolkning af situationen er afg√∏rende for vores adf√¶rd."
                },
                {
                    chapter: "Chapter 1",
                    question: "4. Gestalt psychology states that:",
                    options: [
                        "Our views on most objects are biased.",
                        "We tend to construe situations objectively.",
                        "We perceive the world through subjective phenomenology.",
                        "All of the above."
                    ],
                    correctAnswer: "c",
                    feedback: "Gestaltpsykologi understreger den subjektive fortolkning af verden som en helhed."
                },
                {
                    chapter: "Chapter 1",
                    question: "5. \"Na√Øve Realism\" refers to:",
                    options: [
                        "A type of bias observed primarily in younger people.",
                        "Our tendency to misbelieve that our views are always objective.",
                        "A notion that most people are unrealistic.",
                        "A tendency to naively believe things are accurate when in fact they are not."
                    ],
                    correctAnswer: "b",
                    feedback: "Naiv realisme er troen p√•, at vores egen opfattelse af virkeligheden er objektiv."
                },
                { // From Aronson Social Psychology MC Answers.pdf, Chapter 1, Review Questions, Set 3
                    chapter: "Chapter 1",
                    question: "1. Which of the following is true about social cognition?",
                    options: [
                        "Most people would rather ignore reality completely to feel better about themselves.",
                        "Most people try to have an accurate view of the world but often do not have enough information to make accurate judgments.",
                        "Most people try to have an accurate view of the world, and most people's world view is close to a 100 percent accurate.",
                        "Most people are not concerned with having accurate information when they make decisions or interpret a situation."
                    ],
                    correctAnswer: "b",
                    feedback: "Mennesker str√¶ber efter en n√∏jagtig opfattelse af verden, men mangler ofte information."
                },
                {
                    chapter: "Chapter 1",
                    question: "2. Which of the following is most true about people with high self-esteem?",
                    options: [
                        "Most people change the way they interpret events in order to preserve their self-esteem.",
                        "Few people care about maintaining their high self-esteem.",
                        "Most people will do things that are against their morals or against the law in order to preserve their self-esteem.",
                        "Most people prefer to see the world accurately, even if this means damaging their self-esteem."
                    ],
                    correctAnswer: "a",
                    feedback: "Selvv√¶rdsmotivet driver os til at fortolke begivenheder p√• en m√•de, der opretholder vores selvv√¶rd."
                },
                {
                    chapter: "Chapter 1",
                    question: "3. According to the social cognition approach,",
                    options: [
                        "People almost always form accurate impressions about the social world.",
                        "People rarely form accurate impressions of the social world.",
                        "When viewing the social world, people's main goal is to feel good about themselves.",
                    "Even when people are trying to perceive the social world as accurately as they can, there are many ways in which they can go wrong, ending up with the wrong impressions."
                    ],
                    correctAnswer: "d",
                    feedback: "Selv med √∏nsket om pr√¶cision kan kognitive processer f√∏re til fejl."
                },
                // HER SLUTTER KAPITEL 1. Flere kapitler kan tilf√∏jes nedenfor.
                // Kapitel 2 sp√∏rgsm√•l
                {
                    chapter: "Chapter 2",
                    question: "1. How do most researchers in social psychology devise new ideas of what to study?",
                    options: [
                        "By drawing on earlier theories.",
                        "By drawing on earlier research and refining it.",
                        "By basing it on something in their own lives or events that's in the news.",
                        "All of the above."
                    ],
                    correctAnswer: "d",
                    feedback: "Forskning bygger ofte p√• en kombination af tidligere teorier, forskning og aktuelle begivenheder."
                },
                {
                    chapter: "Chapter 2",
                    question: "2. Which of the following is true about the hindsight bias?",
                    options: [
                        "It is more common in men than in women.",
                        "It is the tendency to overestimate the extent to which other people behave in the same way that we do.",
                        "It is the tendency for people to exaggerate how much they could have predicted an outcome after knowing that it occurred.",
                        "It is more common in older adults than in younger adults."
                    ],
                    correctAnswer: "c",
                    feedback: "Hindsight bias er tendensen til at tro, at man vidste udfaldet p√• forh√•nd, n√•r det f√∏rst er sket."
                },
                {
                    chapter: "Chapter 2",
                    question: "3. The primary goal of social psychology is to find associations between variables. This is achieved by which of the following research methods?",
                    options: [
                        "The observational method.",
                        "The correlational method.",
                        "The experimental method.",
                        "The quasi-experimental method."
                    ],
                    correctAnswer: "b",
                    feedback: "Korrelationsmetoden bruges til at finde sammenh√¶nge og forudsige forholdet mellem variable."
                },
                {
                    chapter: "Chapter 2",
                    question: "4. Which of the following research methods is usually used in social psychology?",
                    options: [
                        "Only laboratory experiments.",
                        "Only field experiments.",
                        "Mostly correlational and experimental methods.",
                        "Only observational studies and qualitative research methods."
                    ],
                    correctAnswer: "c",
                    feedback: "Socialpsykologer bruger prim√¶rt korrelations- og eksperimentelle metoder, da de giver indsigt i b√•de sammenh√¶nge og √•rsagssammenh√¶nge."
                },
                {
                    chapter: "Chapter 2",
                    question: "5. Why is the experimental method most preferred by social psychologists?",
                    options: [
                        "It is the only method where researchers can study social behavior in its natural settings.",
                        "It is the only method that can determine causal relationships.",
                        "It is the only method that can determine relationships between variables.",
                        "It is the easiest method to conduct."
                    ],
                    correctAnswer: "b",
                    feedback: "Den eksperimentelle metode er den eneste, der kan etablere √•rsagssammenh√¶nge (kausalitet) mellem variable."
                },
                {
                    chapter: "Chapter 2",
                    question: "6. Which of the following is true about internal validity?",
                    options: [
                        "It refers to the extent to which the results of an experiment can be generalized to other situations and to other people.",
                        "It refers to the process of making sure that nothing besides the independent variable can affect the dependent variable.",
                        "It refers to how people react when they realize they are in an experiment.",
                        "It refers to the level of confidence that the findings of a study are true and unbiased."
                    ],
                    correctAnswer: "b",
                    feedback: "Intern validitet sikrer, at kun den uafh√¶ngige variabel for√•rsager √¶ndringen i den afh√¶ngige variabel, typisk gennem kontrol og randomisering."
                },
                {
                    chapter: "Chapter 2",
                    question: "7. Which of the following is true about external validity?",
                    options: [
                        "It refers to the degree to which a researcher can make cause and effect conclusions from a study.",
                    "It is usually achieved by maximizing internal validity.",
                    "It refers to the extent to which the results of a study can be generalized to other situations and to other people.",
                    "It refers to a method used to test if research is replicable."
                    ],
                    correctAnswer: "c",
                    feedback: "Ekstern validitet handler om, hvorvidt et studies resultater kan overf√∏res til andre kontekster og befolkningsgrupper."
                },
                {
                    chapter: "Chapter 2",
                    question: "8. A researcher randomly assigns participants to conditions in order to",
                    options: [
                        "Ensure that groups are comparable at the outset.",
                        "Ensure that participants are representative of the larger population.",
                        "Maximize the generalizability of the findings.",
                        "Enhance the replicability of the findings."
                    ],
                    correctAnswer: "a",
                    feedback: "Randomisering sikrer, at grupperne er s√• ens som muligt ved eksperimentets start, hvilket √∏ger den interne validitet."
                },
                {
                    chapter: "Chapter 2",
                    question: "9. Which of the following is true about the basic dilemma of the social psychologist?",
                    options: [
                        "It is the trade-off between external and internal validity.",
                        "It is the choice between using the observational method or the experimental method.",
                        "It is the choice between using basic research or applied research.",
                        "It is the choice between using laboratory experiments or field experiments."
                    ],
                    correctAnswer: "a",
                    feedback: "Det grundl√¶ggende dilemma er afvejningen mellem at opretholde kontrol (intern validitet) og at generalisere resultater (ekstern validitet)."
                },
                {
                    chapter: "Chapter 2",
                    question: "10. In basic research, psychologists try to find the best answer to the question of why people behave as they do, purely for reasons of intellectual curiosity. In applied research, psychologists",
                    options: [
                        "Try to solve a specific social problem.",
                        "Apply the scientific method to real-world problems.",
                        "Look for solutions to basic scientific questions that could be used by companies and industries.",
                        "Try to combine scientific questions and theories."
                    ],
                    correctAnswer: "a",
                    feedback: "Anvendt forskning er rettet mod at l√∏se konkrete sociale problemer eller udfordringer."
                },
                // Chapter 3
                {
                    chapter: "Chapter 3",
                    question: "1. Which of the following is true about social cognition?",
                    options: [
                        "It is the study of how people form impressions of and make inferences about other people.",
                        "It is the study of how people think about themselves and the social world.",
                        "It is the study of how people communicate with each other through verbal and nonverbal behaviors.",
                        "It is the study of how people interpret and explain the causes of their own and others' behavior."
                    ],
                    correctAnswer: "b",
                    feedback: "Social kognition handler om, hvordan vi t√¶nker om os selv og vores sociale omgivelser."
                },
                {
                    chapter: "Chapter 3",
                    question: "2. The two types of social cognition are:",
                    options: [
                        "Controlled thinking and automatic thinking.",
                        "Schema thinking and heuristic thinking.",
                        "Rational thinking and emotional thinking.",
                        "Unconscious thinking and conscious thinking."
                    ],
                    correctAnswer: "a",
                    feedback: "Vores t√¶nkning i sociale situationer kan opdeles i automatisk (hurtig, ubevidst) og kontrolleret (langsom, bevidst) t√¶nkning."
                },
                {
                    chapter: "Chapter 3",
                    question: "3. Which of the following statements about schemas is FALSE?",
                    options: [
                        "Schemas help us to organize and interpret new information.",
                        "Schemas are mental structures that organize our knowledge about the social world.",
                        "Schemas always lead to accurate judgments and decisions.",
                        "Schemas are useful for helping us deal with ambiguous information."
                    ],
                    correctAnswer: "c",
                    feedback: "Skemaer kan v√¶re nyttige, men de kan ogs√• f√∏re til fejl og bias, da de kan forvr√¶nge vores opfattelse af ny information."
                },
                {
                    chapter: "Chapter 3",
                    question: "4. When schemas are applied to members of a social group such as a gender, race, or religion, they are called:",
                    options: [
                        "Scripts.",
                        "Stereotypes.",
                        "Heuristics.",
                        "Prototypes."
                    ],
                    correctAnswer: "b",
                    feedback: "Stereotyper er generaliserede skemaer om sociale grupper."
                },
                {
                    chapter: "Chapter 3",
                    question: "5. The extent to which schemas and concepts are at the forefront of people's minds and are therefore likely to be used when making judgments about the social world is called:",
                    options: [
                        "Accessibility.",
                        "Priming.",
                        "Heuristics.",
                        "Automaticity."
                    ],
                    correctAnswer: "a",
                    feedback: "Tilg√¶ngelighed refererer til, hvor let et skema kommer i tankerne, og hvor sandsynligt det er, at det bliver brugt."
                },
                {
                    chapter: "Chapter 3",
                    question: "6. Which of the following is an example of priming?",
                    options: [
                        "Reading a book about a new topic.",
                        "Watching a movie that makes you feel happy.",
                        "Being exposed to words related to politeness, and then being more likely to act politely.",
                        "Solving a complex math problem."
                    ],
                    correctAnswer: "c",
                    feedback: "Priming er f√¶nomenet, hvor nylig eksponering for stimuli p√•virker senere tanker, f√∏lelser eller adf√¶rd."
                },
                {
                    chapter: "Chapter 3",
                    question: "7. Which of the following is true about the self-fulfilling prophecy?",
                    options: [
                        "It is a conscious process in which people deliberately try to make their beliefs come true.",
                        "It is a process by which people's expectations about others lead them to behave in ways that confirm those expectations.",
                        "It is a process by which people's expectations about themselves lead them to behave in ways that confirm those expectations.",
                        "It is a process by which people's actions are determined by their personality traits rather than their expectations."
                    ],
                    correctAnswer: "b",
                    feedback: "Selvopfyldende profetier opst√•r, n√•r vores forventninger til en anden person f√•r os til at handle p√• en m√•de, der bekr√¶fter disse forventninger hos den anden."
                },
                {
                    chapter: "Chapter 3",
                    question: "8. Which of the following is true about judgmental heuristics?",
                    options: [
                        "They are mental shortcuts that people use to make judgments quickly and efficiently.",
                        "They are always accurate and lead to optimal decisions.",
                        "They are complex and time-consuming cognitive processes.",
                        "They are only used by people who have limited cognitive abilities."
                    ],
                    correctAnswer: "a",
                    feedback: "Heuristikker er mentale genveje, der g√∏r os i stand til at tr√¶ffe hurtige, men ikke altid perfekte, beslutninger."
                },
                {
                    chapter: "Chapter 3",
                    question: "9. The availability heuristic is a mental shortcut whereby people base a judgment on:",
                    options: [
                        "The ease with which they can bring something to mind.",
                        "How similar it is to a typical case.",
                        "The number of relevant examples they can think of.",
                        "The amount of effort they put into processing information."
                    ],
                    correctAnswer: "a",
                    feedback: "Tilg√¶ngelighedsheuristikken betyder, at vi vurderer sandsynligheden af noget ud fra, hvor nemt det er at komme i tanke om eksempler."
                },
                {
                    chapter: "Chapter 3",
                    question: "10. The representativeness heuristic is a mental shortcut whereby people classify something according to:",
                    options: [
                        "How easily they can recall instances of it.",
                        "How well it matches a typical case.",
                        "The number of times it has occurred in the past.",
                        "The emotional impact it has on them."
                    ],
                    correctAnswer: "b",
                    feedback: "Repr√¶sentativitetsheuristikken indeb√¶rer, at vi klassificerer noget baseret p√•, hvor meget det ligner en typisk repr√¶sentant for en kategori."
                },
                // Chapter 4
                {
                    chapter: "Chapter 4",
                    question: "1. Which of the following is true about social perception?",
                    options: [
                        "It is the study of how people form impressions of and make inferences about other people.",
                        "It is the study of how people think about themselves and the social world.",
                        "It is the study of how people communicate with each other through verbal and nonverbal behaviors.",
                        "It is the study of how people influence each other's attitudes and beliefs."
                    ],
                    correctAnswer: "a",
                    feedback: "Social perception handler om, hvordan vi danner indtryk og drager konklusioner om andre mennesker."
                },
                {
                    chapter: "Chapter 4",
                    question: "2. Which of the following is NOT a channel of nonverbal communication?",
                    options: [
                        "Facial expressions.",
                        "Eye gaze.",
                        "Body language.",
                        "Verbal communication."
                    ],
                    correctAnswer: "d",
                    feedback: "Verbal kommunikation er sprog, mens nonverbal kommunikation er ansigtsudtryk, kropssprog, √∏jenkontakt osv."
                },
                {
                    chapter: "Chapter 4",
                    question: "3. The six universal basic emotions that are recognized across cultures are:",
                    options: [
                        "Happiness, sadness, anger, fear, surprise, and disgust.",
                        "Love, hate, jealousy, envy, pride, and shame.",
                        "Excitement, boredom, anxiety, relief, hope, and despair.",
                        "Amusement, contempt, embarrassment, guilt, pride, and relief."
                    ],
                    correctAnswer: "a",
                    feedback: "Disse seks f√∏lelser er almindeligt anerkendt som universelle i deres udtryk og genkendelse."
                },
                {
                    chapter: "Chapter 4",
                    question: "4. The tendency to believe that our own perceptions of the world are objective and accurate, and that others who disagree with us are biased, is called:",
                    options: [
                        "Confirmation bias.",
                        "Hindsight bias.",
                        "Na√Øve realism.",
                        "Self-serving bias."
                    ],
                    correctAnswer: "c",
                    feedback: "Naiv realisme er troen p√•, at vores egen opfattelse af virkeligheden er objektiv og sand."
                },
                {
                    chapter: "Chapter 4",
                    question: "5. The tendency for information presented early in a sequence to have a greater impact on impressions than information presented later is called:",
                    options: [
                        "The recency effect.",
                        "The primacy effect.",
                        "The halo effect.",
                        "The confirmation bias."
                    ],
                    correctAnswer: "b",
                    feedback: "Prim√¶reffekten beskriver, hvordan den f√∏rste information, vi modtager om en person, farver vores efterf√∏lgende indtryk."
                },
                {
                    chapter: "Chapter 4",
                    question: "6. The process by which people explain the causes of their own and others' behavior is called:",
                    options: [
                        "Social perception.",
                        "Attribution.",
                        "Social cognition.",
                        "Schema."
                    ],
                    correctAnswer: "b",
                    feedback: "Attribution handler om at forklare √•rsagerne til adf√¶rd, enten som intern (personlighed) eller ekstern (situation)."
                },
                {
                    chapter: "Chapter 4",
                    question: "7. When we explain someone's behavior in terms of their personality, attitudes, or character, we are making a:",
                    options: [
                        "Situational attribution.",
                        "Dispositional attribution.",
                        "External attribution.",
                        "Consensus attribution."
                    ],
                    correctAnswer: "b",
                    feedback: "Dispositionel attribution fokuserer p√• interne √•rsager som personlighedstr√¶k."
                },
                {
                    chapter: "Chapter 4",
                    question: "8. According to Kelley's covariation model, people are most likely to make an internal attribution when:",
                    options: [
                        "Consensus is low, distinctiveness is high, and consistency is high.",
                        "Consensus is high, distinctiveness is low, and consistency is high.",
                        "Consensus is low, distinctiveness is low, and consistency is high.",
                        "Consensus is high, distinctiveness is high, and consistency is low."
                    ],
                    correctAnswer: "c",
                    feedback: "Lav konsensus (kun denne person), lav s√¶rpr√¶g (personen g√∏r det altid) og h√∏j konsistens (personen g√∏r det gentagne gange i denne situation) peger p√• en intern forklaring."
                },
                {
                    chapter: "Chapter 4",
                    question: "9. The tendency to overestimate the extent to which other people's behavior is due to internal, dispositional factors and to underestimate the role of situational factors is called:",
                    options: [
                        "The self-serving bias.",
                        "The actor-observer bias.",
                        "The fundamental attribution error.",
                        "The just-world hypothesis."
                    ],
                    correctAnswer: "c",
                    feedback: "Den fundamentale attributionsfejl er kernen i social attribution og vores tendens til at se personlighed over situation."
                },
                {
                    chapter: "Chapter 4",
                    question: "10. The two-step process of attribution involves first making a spontaneous ________ attribution, and then, with conscious effort, adjusting to consider ________ factors.",
                    options: [
                        "situational; dispositional",
                        "dispositional; situational",
                        "external; internal",
                        "internal; external"
                    ],
                    correctAnswer: "b",
                    feedback: "Vi starter ofte med en hurtig, intern (dispositionel) vurdering, som vi s√• justerer, hvis vi har tid og motivation til at overveje situationelle faktorer."
                },
                // Chapter 5
                {
                    chapter: "Chapter 5",
                    question: "1. The overall set of beliefs that people have about their personal attributes is called:",
                    options: [
                        "Self-esteem.",
                        "Self-concept.",
                        "Self-awareness.",
                        "Self-efficacy."
                    ],
                    correctAnswer: "b",
                    feedback: "Selvkonceptet er den samlede opfattelse af ens egne tr√¶k og egenskaber."
                },
                {
                    chapter: "Chapter 5",
                    question: "2. According to research, which of the following is true about how children's self-concept develops?",
                    options: [
                        "Young children's self-concept tends to be more abstract and complex than older children's.",
                        "As children grow older, their self-concept shifts from focusing on concrete, observable characteristics to more abstract psychological traits.",
                        "Children's self-concept is primarily shaped by their genetic predispositions.",
                        "Self-concept remains relatively stable and consistent throughout childhood."
                    ],
                    correctAnswer: "b",
                    feedback: "Selvkonceptet udvikler sig fra konkrete tr√¶k til mere abstrakte, n√•r b√∏rn bliver √¶ldre."
                },
                {
                    chapter: "Chapter 5",
                    question: "3. The idea that we learn about our own abilities and attitudes by comparing ourselves to other people is called:",
                    options: [
                        "Social tuning.",
                        "Self-perception theory.",
                        "Social comparison theory.",
                        "Two-factor theory of emotion."
                    ],
                    correctAnswer: "c",
                    feedback: "Social sammenligningsteori handler om at vurdere os selv ved at sammenligne med andre."
                },
                {
                    chapter: "Chapter 5",
                    question: "4. Comparing ourselves to people who are better than we are with regard to a particular trait or ability is called:",
                    options: [
                        "Upward social comparison.",
                        "Downward social comparison.",
                        "Lateral social comparison.",
                        "Self-enhancement comparison."
                    ],
                    correctAnswer: "a",
                    feedback: "Opadg√•ende social sammenligning kan motivere os, men ogs√• g√∏re os ringere tilpas."
                },
                {
                    chapter: "Chapter 5",
                    question: "5. When we are motivated to feel good about ourselves, we often engage in:",
                    options: [
                        "Upward social comparison.",
                        "Downward social comparison.",
                        "Accurate self-assessment.",
                        "Self-verification."
                    ],
                    correctAnswer: "b",
                    feedback: "Nedadg√•ende social sammenligning √∏ger vores selvv√¶rd ved at sammenligne os med dem, der klarer sig d√•rligere."
                },
                {
                    chapter: "Chapter 5",
                    question: "6. The process whereby people adopt another person's attitudes is called:",
                    options: [
                        "Social identity.",
                        "Social comparison.",
                        "Social tuning.",
                        "Self-affirmation."
                    ],
                    correctAnswer: "c",
                    feedback: "Social 'tuning' beskriver, hvordan vi ubevidst overtager andres holdninger og meninger."
                },
                {
                    chapter: "Chapter 5",
                    question: "7. When people focus their attention inward on themselves, they are experiencing:",
                    options: [
                        "Self-esteem.",
                        "Self-concept.",
                        "Self-awareness.",
                        "Self-perception."
                    ],
                    correctAnswer: "c",
                    feedback: "Selvbevidsthed er fokuseringen af opm√¶rksomhed p√• ens indre tilstande og egenskaber."
                },
                {
                    chapter: "Chapter 5",
                    question: "8. The theory that when our attitudes and feelings are uncertain or ambiguous, we infer these states by observing our behavior and the situation in which it occurs is called:",
                    options: [
                        "Cognitive dissonance theory.",
                        "Self-perception theory.",
                        "Social comparison theory.",
                        "Two-factor theory of emotion."
                    ],
                    correctAnswer: "b",
                    feedback: "Selvperceptionsteorien forklarer, hvordan vi udleder vores egne holdninger og f√∏lelser ud fra vores adf√¶rd."
                },
                {
                    chapter: "Chapter 5",
                    question: "9. Rewarding people for doing an activity they already enjoy can sometimes cause them to:",
                    options: [
                        "Enjoy the activity even more.",
                        "Enjoy the activity less.",
                        "Develop a stronger intrinsic motivation for the activity.",
                        "Develop a stronger extrinsic motivation for the activity."
                    ],
                    correctAnswer: "b",
                    feedback: "Overjustification effect: Eksterne bel√∏nninger kan underminere indre motivation."
                },
                {
                    chapter: "Chapter 5",
                    question: "10. The desire to engage in an activity because we enjoy it or find it interesting, not because of external rewards or pressures, is called:",
                    options: [
                        "Extrinsic motivation.",
                        "Intrinsic motivation.",
                        "Self-efficacy.",
                        "Self-control."
                    ],
                    correctAnswer: "b",
                    feedback: "Indre motivation driver os til at g√∏re ting for nydelsens skyld."
                },
                // Chapter 6
                {
                    chapter: "Chapter 6",
                    question: "1. The feeling of discomfort caused by performing an action that is discrepant from one's customary (typically positive) self-conception is called:",
                    options: [
                        "Self-affirmation.",
                        "Cognitive dissonance.",
                        "Self-perception.",
                        "Self-justification."
                    ],
                    correctAnswer: "b",
                    feedback: "Kognitiv dissonans opst√•r, n√•r vores handlinger strider mod vores overbevisninger eller selvbillede, hvilket skaber ubehag."
                },
                {
                    chapter: "Chapter 6",
                    question: "2. The way people reduce cognitive dissonance is by:",
                    options: [
                        "Changing their behavior.",
                        "Changing their cognitions.",
                        "Adding new cognitions.",
                        "All of the above."
                    ],
                    correctAnswer: "d",
                    feedback: "Alle disse strategier bruges til at reducere dissonans."
                },
                {
                    chapter: "Chapter 6",
                    question: "3. When people change their attitudes to justify their past behavior, they are engaging in:",
                    options: [
                        "External justification.",
                        "Internal justification.",
                        "Counterattitudinal advocacy.",
                        "Impact bias."
                    ],
                    correctAnswer: "b",
                    feedback: "Intern retf√¶rdigg√∏relse indeb√¶rer at √¶ndre egne holdninger for at matche adf√¶rd, uden ekstern bel√∏nning."
                },
                {
                    chapter: "Chapter 6",
                    question: "4. The tendency to overestimate the intensity and duration of one's emotional reactions to future negative events is called:",
                    options: [
                        "Impact bias.",
                        "Decision dissonance.",
                        "Lowballing.",
                        "Hypocrisy induction."
                    ],
                    correctAnswer: "a",
                    feedback: "Impact bias betyder, at vi forudser st√¶rkere og l√¶ngerevarende f√∏lelsesm√¶ssige reaktioner p√• negative begivenheder, end vi faktisk oplever."
                },
                {
                    chapter: "Chapter 6",
                    question: "5. When a person states an opinion or attitude that runs counter to his or her private belief or attitude, this is called:",
                    options: [
                        "Insufficient punishment.",
                        "Counterattitudinal advocacy.",
                        "External justification.",
                        "Hypocrisy induction."
                    ],
                    correctAnswer: "b",
                    feedback: "Modholdningsargumentation opst√•r, n√•r vi udtaler noget, vi ikke selv tror p√•, ofte for at opn√• ekstern bel√∏nning eller undg√• straf."
                },
                {
                    chapter: "Chapter 6",
                    question: "6. The dissonance aroused when individuals lack sufficient external justification for having resisted a desired activity or object, usually resulting in the individual devaluing the forbidden activity or object, is called:",
                    options: [
                        "Insufficient punishment.",
                        "Hypocrisy induction.",
                        "Justification of effort.",
                        "Counterattitudinal advocacy."
                    ],
                    correctAnswer: "a",
                    feedback: "Utilstr√¶kkelig straf f√∏rer til intern retf√¶rdigg√∏relse og devaluering af den forbudte aktivitet."
                },
                {
                    chapter: "Chapter 6",
                    question: "7. When people volunteer to perform a difficult, unpleasant, or embarrassing procedure to obtain a goal, they often come to like the goal more because of:",
                    options: [
                        "The foot-in-the-door technique.",
                        "The door-in-the-face technique.",
                        "Justification of effort.",
                        "Lowballing."
                    ],
                    correctAnswer: "c",
                    feedback: "Retf√¶rdigg√∏relse af anstrengelse: Jo mere vi k√¶mper for noget, jo mere v√¶rds√¶tter vi det."
                },
                {
                    chapter: "Chapter 6",
                    question: "8. A sales strategy whereby a customer is first offered a low price, then is informed of additional costs, is called:",
                    options: [
                        "Lowballing.",
                        "Foot-in-the-door technique.",
                        "Door-in-the-face technique.",
                        "Pre-giving."
                    ],
                    correctAnswer: "a",
                    feedback: "Lowballing er en overtalelsesteknik, hvor man f√∏rst f√•r en lav pris, der senere √∏ges."
                },
                {
                    chapter: "Chapter 6",
                    question: "9. The process of making people aware of the dissonance between what they are doing and what they preach to others is called:",
                    options: [
                        "Self-affirmation.",
                        "Hypocrisy induction.",
                        "System justification.",
                        "Terror management theory."
                    ],
                    correctAnswer: "b",
                    feedback: "Hykleri-induktion bruges til at √¶ndre adf√¶rd ved at g√∏re folk opm√¶rksomme p√• deres inkonsekvens."
                },
                {
                    chapter: "Chapter 6",
                    question: "10. Which of the following is true about how cognitive dissonance can be used to promote prosocial behavior?",
                    options: [
                        "It is most effective when people are forced to change their attitudes.",
                        "It is most effective when people are made to feel that they are acting hypocritically.",
                        "It is most effective when people are given large external rewards for prosocial behavior.",
                        "It is most effective when people are unaware of the dissonance they are experiencing."
                    ],
                    correctAnswer: "b",
                    feedback: "Hykleri-induktion er en effektiv m√•de at bruge dissonans til at fremme positiv adf√¶rd."
                },
                // Chapter 7
                {
                    chapter: "Chapter 7",
                    question: "1. An evaluation of a person, object, or idea is called a(n):",
                    options: [
                        "Belief.",
                        "Value.",
                        "Attitude.",
                        "Opinion."
                    ],
                    correctAnswer: "c",
                    feedback: "En holdning er en vurdering af et objekt, en person eller en id√©, der har en affektiv komponent."
                },
                {
                    chapter: "Chapter 7",
                    question: "2. The three components of attitudes are:",
                    options: [
                        "Cognitive, affective, and behavioral.",
                        "Positive, negative, and neutral.",
                        "Explicit, implicit, and ambivalent.",
                        "Stable, unstable, and changing."
                    ],
                    correctAnswer: "a",
                    feedback: "Holdninger best√•r typisk af en tankem√¶ssig (kognitiv), en f√∏lelsesm√¶ssig (affektiv) og en adf√¶rdsm√¶ssig komponent."
                },
                {
                    chapter: "Chapter 7",
                    question: "3. Attitudes based primarily on people's beliefs about the properties of an attitude object are called:",
                    options: [
                        "Affectively based attitudes.",
                        "Behaviorally based attitudes.",
                        "Cognitively based attitudes.",
                        "Implicit attitudes."
                    ],
                    correctAnswer: "c",
                    feedback: "Kognitivt baserede holdninger bygger p√• fakta og objektive egenskaber."
                },
                {
                    chapter: "Chapter 7",
                    question: "4. Attitudes based more on people's feelings and values than on their beliefs about the nature of an attitude object are called:",
                    options: [
                        "Affectively based attitudes.",
                        "Behaviorally based attitudes.",
                        "Cognitively based attitudes.",
                        "Explicit attitudes."
                    ],
                    correctAnswer: "a",
                    feedback: "Affektivt baserede holdninger er rodf√¶stet i f√∏lelser og v√¶rdier."
                },
                {
                    chapter: "Chapter 7",
                    question: "5. The theory that under certain conditions, people don't know how they feel until they see how they behave is called:",
                    options: [
                        "Cognitive dissonance theory.",
                        "Self-perception theory.",
                        "Social judgment theory.",
                        "Theory of planned behavior."
                    ],
                    correctAnswer: "b",
                    feedback: "Selvperceptionsteorien beskriver, hvordan vi udleder vores egne holdninger ud fra observation af vores adf√¶rd."
                },
                {
                    chapter: "Chapter 7",
                    question: "6. Attitudes that we consciously endorse and can easily report are called:",
                    options: [
                        "Implicit attitudes.",
                        "Explicit attitudes.",
                        "Ambivalent attitudes.",
                        "Affective attitudes."
                    ],
                    correctAnswer: "b",
                    feedback: "Eksplicitte holdninger er dem, vi er bevidst om og kan udtrykke."
                },
                {
                    chapter: "Chapter 7",
                    question: "7. Attitudes that exist outside of conscious awareness are called:",
                    options: [
                        "Implicit attitudes.",
                        "Explicit attitudes.",
                        "Cognitive attitudes.",
                        "Behavioral attitudes."
                    ],
                    correctAnswer: "a",
                    feedback: "Implicitte holdninger er ubevidste og kan p√•virke vores adf√¶rd, uden at vi er klar over det."
                },
                {
                    chapter: "Chapter 7",
                    question: "8. The theory that the best predictors of people's planned, deliberate behaviors are their attitudes toward specific behaviors, subjective norms, and perceived behavioral control is called:",
                    options: [
                        "The Elaboration Likelihood Model.",
                        "The Heuristic-Systematic Model.",
                        "The Theory of Planned Behavior.",
                        "The Self-Perception Theory."
                    ],
                    correctAnswer: "c",
                    feedback: "Teorien om planlagt adf√¶rd fokuserer p√• specifikke holdninger, sociale normer og opfattet kontrol som forudsigere for adf√¶rd."
                },
                {
                    chapter: "Chapter 7",
                    question: "9. The two routes to persuasion according to the Elaboration Likelihood Model are:",
                    options: [
                        "Cognitive and affective.",
                        "Explicit and implicit.",
                        "Central and peripheral.",
                        "Direct and indirect."
                    ],
                    correctAnswer: "c",
                    feedback: "Central og perifer rute er de to hovedveje, hvorp√• holdnings√¶ndringer sker if√∏lge ELM."
                },
                {
                    chapter: "Chapter 7",
                    question: "10. Which route to persuasion is most likely to result in long-lasting attitude change?",
                    options: [
                        "The peripheral route.",
                        "The central route.",
                        "The implicit route.",
                        "The affective route."
                    ],
                    correctAnswer: "b",
                    feedback: "Den centrale rute, som involverer grundig overvejelse af argumenter, f√∏rer til mere varige holdnings√¶ndringer."
                },
                // Chapter 8
                {
                    chapter: "Chapter 8",
                    question: "1. A change in one‚Äôs behavior due to the real or imagined influence of other people is called:",
                    options: [
                        "Conformity.",
                        "Obedience.",
                        "Compliance.",
                        "Persuasion."
                    ],
                    correctAnswer: "a",
                    feedback: "Konformitet er en adf√¶rds√¶ndring for√•rsaget af reelt eller forestillet pres fra andre."
                },
                {
                    chapter: "Chapter 8",
                    question: "2. The desire to go along with a group to be liked and accepted is called:",
                    options: [
                        "Informational social influence.",
                        "Normative social influence.",
                        "Obedience.",
                        "Compliance."
                    ],
                    correctAnswer: "b",
                    feedback: "Normativ social indflydelse er, n√•r vi tilpasser os for at passe ind og blive accepteret."
                },
                {
                    chapter: "Chapter 8",
                    question: "3. The influence of other people that leads us to conform because we see them as a source of information to guide our behavior is called:",
                    options: [
                        "Informational social influence.",
                        "Normative social influence.",
                        "Obedience.",
                        "Compliance."
                    ],
                    correctAnswer: "a",
                    feedback: "Informationel social indflydelse opst√•r, n√•r vi bruger andre som informationskilde i usikre situationer."
                },
                {
                    chapter: "Chapter 8",
                    question: "4. Which of the following conditions is most likely to lead to conformity due to informational social influence?",
                    options: [
                        "When the situation is ambiguous.",
                        "When the group is a large crowd.",
                        "When the group is composed of friends.",
                        "When the situation is not important."
                    ],
                    correctAnswer: "a",
                    feedback: "Usikkerhed driver os til at se til andre for information og vejledning."
                },
                {
                    chapter: "Chapter 8",
                    question: "5. The most crucial factor in whether people will conform to the group in an ambiguous situation is:",
                    options: [
                        "The number of people in the group.",
                        "The person's desire to be liked by the group.",
                        "Whether the situation is a crisis.",
                        "The importance of being accurate."
                    ],
                    correctAnswer: "d",
                    feedback: "Jo vigtigere det er at have ret, jo mere sandsynligt er det, at vi lader os p√•virke informationelt."
                },
                {
                    chapter: "Chapter 8",
                    question: "6. The classic study on obedience to authority was conducted by:",
                    options: [
                        "Solomon Asch.",
                        "Stanley Milgram.",
                        "Philip Zimbardo.",
                        "Muzafer Sherif."
                    ],
                    correctAnswer: "b",
                    feedback: "Milgrams fors√∏g er ber√∏mt for at vise, hvor langt folk vil g√• i lydighed over for en autoritet."
                },
                {
                    chapter: "Chapter 8",
                    question: "7. In Milgram's original study, what percentage of participants administered the full 450-volt shock?",
                    options: [
                        "10%.",
                        "35%.",
                        "65%.",
                        "90%."
                    ],
                    correctAnswer: "c",
                    feedback: "Milgrams studie viste, at 65% af deltagerne adl√∏d autoriteten til det yderste."
                },
                {
                    chapter: "Chapter 8",
                    question: "8. The finding that when people obey authority, they often justify their behavior by saying, ‚ÄúI was only following orders,‚Äù is consistent with the concept of:",
                    options: [
                        "Self-justification.",
                        "Cognitive dissonance.",
                        "Social identity.",
                        "Agentic state."
                    ],
                    correctAnswer: "d",
                    feedback: "Den agentiske tilstand beskriver, n√•r en person ser sig selv som et redskab for en autoritet, og derfor ikke er ansvarlig for sine handlinger."
                },
                {
                    chapter: "Chapter 8",
                    question: "9. A major difference between Asch's study and Milgram's study is that:",
                    options: [
                        "Asch's study involved peer pressure, while Milgram's involved obedience to an authority figure.",
                        "Asch's study involved obedience, while Milgram's involved conformity.",
                        "Asch's study involved aggression, while Milgram's involved helping.",
                        "Asch's study was an experiment, while Milgram's was a correlational study."
                    ],
                    correctAnswer: "a",
                    feedback: "Asch's fors√∏g handlede om konformitet til en gruppe, mens Milgrams handlede om lydighed over for en autoritetsfigur."
                },
                {
                    chapter: "Chapter 8",
                    question: "10. The finding that people are more likely to comply with a request if they have a personal relationship with the requester is an example of:",
                    options: [
                        "The norm of reciprocity.",
                        "The foot-in-the-door technique.",
                        "The door-in-the-face technique.",
                        "Commitment and consistency."
                    ],
                    correctAnswer: "b",
                    feedback: "Foot-in-the-door-teknikken fungerer, fordi folk √∏nsker at v√¶re konsekvente med deres tidligere handlinger."
                },
                // Chapter 9
                {
                    chapter: "Chapter 9",
                    question: "1. A group is defined as two or more people who:",
                    options: [
                        "Are in the same place at the same time.",
                        "Interact with each other and are interdependent.",
                        "Share the same opinions and beliefs.",
                        "Are related by blood or marriage."
                    ],
                    correctAnswer: "b",
                    feedback: "En gruppe er kendetegnet ved interaktion og gensidig afh√¶ngighed, hvor de p√•virker hinanden."
                },
                {
                    chapter: "Chapter 9",
                    question: "2. The tendency for people to perform better on simple tasks and worse on complex tasks when in the presence of others is called:",
                    options: [
                        "Social loafing.",
                        "Social facilitation.",
                        "Deindividuation.",
                        "Groupthink."
                    ],
                    correctAnswer: "b",
                    feedback: "Social facilitation er effekten af andres tilstedev√¶relse p√• vores pr√¶station."
                },
                {
                    chapter: "Chapter 9",
                    question: "3. The tendency for people to do worse on simple tasks but better on complex tasks when they are in the presence of others and their individual performance cannot be evaluated is called:",
                    options: [
                        "Social facilitation.",
                        "Social loafing.",
                        "Deindividuation.",
                        "Group polarization."
                    ],
                    correctAnswer: "b",
                    feedback: "Social loafing (social dovenskab) opst√•r, n√•r man slapper mere af, fordi man ikke bliver individuelt vurderet."
                },
                {
                    chapter: "Chapter 9",
                    question: "4. The loosening of normal constraints on behavior when people can't be identified (such as when they are in a crowd) is called:",
                    options: [
                        "Social facilitation.",
                        "Social loafing.",
                        "Deindividuation.",
                        "Groupthink."
                    ],
                    correctAnswer: "c",
                    feedback: "Deindividuation f√∏rer til, at folk f√∏ler sig mindre ansvarlige og er mere tilb√∏jelige til at handle impulsivt, n√•r de er anonyme i en gruppe."
                },
                {
                    chapter: "Chapter 9",
                    question: "5. The idea that groups can lead to poorer decisions because they prioritize group harmony over critical thinking is called:",
                    options: [
                        "Group polarization.",
                        "Transactive memory.",
                        "Process loss.",
                        "Groupthink."
                    ],
                    correctAnswer: "d",
                    feedback: "Groupthink er en beslutningsproces, hvor enighed prioriteres over rationel beslutningstagning."
                },
                {
                    chapter: "Chapter 9",
                    question: "6. Which of the following is a symptom of groupthink?",
                    options: [
                        "The group seeks out and considers all available information.",
                        "The group members express their dissenting opinions freely.",
                        "The illusion of invulnerability and moral certainty.",
                        "The group actively encourages a devil's advocate."
                    ],
                    correctAnswer: "c",
                    feedback: "En illusion om us√•rlighed er et centralt symptom p√• groupthink, hvor gruppen overvurderer sine evner."
                },
                {
                    chapter: "Chapter 9",
                    question: "7. The tendency for groups to make decisions that are more extreme than the initial inclinations of their members is called:",
                    options: [
                        "Groupthink.",
                        "Group polarization.",
                        "Social loafing.",
                        "Deindividuation."
                    ],
                    correctAnswer: "b",
                    feedback: "Gruppepolarisering sker, n√•r gruppemedlemmernes holdninger bliver mere ekstreme efter diskussion."
                },
                {
                    chapter: "Chapter 9",
                    question: "8. The cooperative strategy of giving up an initial position and changing to accommodate the other person's position is a characteristic of:",
                    options: [
                        "Integrative solutions.",
                        "Conciliation.",
                        "Bargaining.",
                        "Negotiation."
                    ],
                    correctAnswer: "d",
                    feedback: "Forhandling er en kommunikationsform, der har til form√•l at n√• til en gensidigt acceptabel l√∏sning."
                },
                {
                    chapter: "Chapter 9",
                    question: "9. When a leader of a group focuses on getting the work done, he is performing what kind of leadership?",
                    options: [
                        "Relationship-oriented.",
                        "Transactional.",
                        "Task-oriented.",
                        "Transformational."
                    ],
                    correctAnswer: "c",
                    feedback: "En opgaveorienteret leder fokuserer p√• at opn√• gruppens m√•l."
                },
                {
                    chapter: "Chapter 9",
                    question: "10. When a leader focuses on the feelings and well-being of group members, he is performing what kind of leadership?",
                    options: [
                        "Task-oriented.",
                        "Relationship-oriented.",
                        "Transactional.",
                        "Transformational."
                    ],
                    correctAnswer: "b",
                    feedback: "En relationsorienteret leder fokuserer p√• at opbygge morale og l√∏se konflikter i gruppen."
                },
                // Chapter 10
                {
                    chapter: "Chapter 10",
                    question: "1. The single best predictor of whether two people will get together is:",
                    options: [
                        "Physical attractiveness.",
                        "Similarity.",
                        "Propinquity.",
                        "Reciprocal liking."
                    ],
                    correctAnswer: "c",
                    feedback: "N√¶rhedseffekten er den bedste enkeltfaktor til at forudsige, om to mennesker bliver t√¶t p√• hinanden."
                },
                {
                    chapter: "Chapter 10",
                    question: "2. The finding that the more we see and interact with people, the more likely we are to start a relationship with them, is called:",
                    options: [
                        "The mere exposure effect.",
                        "The propinquity effect.",
                        "The similarity effect.",
                        "The proximity effect."
                    ],
                    correctAnswer: "b",
                    feedback: "N√¶rhedseffekten, ogs√• kaldet propinquity, er en af de st√¶rkeste faktorer for tiltr√¶kning."
                },
                {
                    chapter: "Chapter 10",
                    question: "3. The finding that the more we are exposed to a stimulus, the more we are to like it, is called:",
                    options: [
                        "The propinquity effect.",
                        "The mere exposure effect.",
                        "The similarity effect.",
                        "The reciprocal liking effect."
                    ],
                    correctAnswer: "b",
                    feedback: "Blot eksponering √∏ger vores positive f√∏lelser over for en stimulus."
                },
                {
                    chapter: "Chapter 10",
                    question: "4. The belief that ‚Äúbirds of a feather flock together‚Äù reflects which of the following principles of attraction?",
                    options: [
                        "Propinquity.",
                        "Mere exposure.",
                        "Similarity.",
                        "Reciprocal liking."
                    ],
                    correctAnswer: "c",
                    feedback: "Ligheder i holdninger, v√¶rdier og personlighed er en st√¶rk tiltr√¶kningsfaktor."
                },
                {
                    chapter: "Chapter 10",
                    question: "5. People who are physically attractive are often seen as possessing other desirable traits. This phenomenon is called:",
                    options: [
                        "The halo effect.",
                        "The similarity effect.",
                        "The physical attractiveness stereotype.",
                        "The matching hypothesis."
                    ],
                    correctAnswer: "c",
                    feedback: "Den fysiske attraktions-stereotype er antagelsen om, at smukke mennesker ogs√• er gode mennesker."
                },
                {
                    chapter: "Chapter 10",
                    question: "6. The finding that we like others who like us is called:",
                    options: [
                        "Reciprocal liking.",
                        "Similarity.",
                        "The halo effect.",
                        "The propinquity effect."
                    ],
                    correctAnswer: "a",
                    feedback: "Gensidig tiltr√¶kning er en af de mest basale og st√¶rkeste forudsigere for venskab og romantiske forhold."
                },
                {
                    chapter: "Chapter 10",
                    question: "7. The two types of love proposed by Elaine Hatfield are:",
                    options: [
                        "Companionate love and passionate love.",
                        "Infatuated love and romantic love.",
                        "Fatuous love and consummate love.",
                        "Liking and loving."
                    ],
                    correctAnswer: "a",
                    feedback: "Hatfield skelner mellem lidenskabelig k√¶rlighed (intens, kortvarig) og kammeratlig k√¶rlighed (dyb, stabil)."
                },
                {
                    chapter: "Chapter 10",
                    question: "8. The theory that our satisfaction in a relationship depends on our perceptions of the rewards and costs, our comparison level, and our comparison level for alternatives is called:",
                    options: [
                        "Attachment theory.",
                        "Social exchange theory.",
                        "The investment model.",
                        "The equity theory."
                    ],
                    correctAnswer: "b",
                    feedback: "Teorien om social udveksling ser forhold som en '√∏konomisk' transaktion, hvor vi vejer omkostninger mod bel√∏nninger."
                },
                {
                    chapter: "Chapter 10",
                    question: "9. The theory that people are happiest with relationships in which the rewards and costs experienced by both parties are roughly equal is called:",
                    options: [
                        "Social exchange theory.",
                        "The investment model.",
                        "The equity theory.",
                        "Attachment theory."
                    ],
                    correctAnswer: "c",
                    feedback: "Ligev√¶gtsteorien h√¶vder, at folk trives bedst i forhold, der f√∏les retf√¶rdige for begge parter."
                },
                {
                    chapter: "Chapter 10",
                    question: "10. According to the investment model, which of the following predicts whether people will stay in a relationship?",
                    options: [
                        "Their satisfaction with the relationship.",
                        "The level of investment in the relationship.",
                        "The quality of alternatives to the relationship.",
                        "All of the above."
                    ],
                    correctAnswer: "d",
                    feedback: "Investeringsmodellen ser p√• tilfredshed, investering og alternativer som n√∏glefaktorer for, om et forhold holder."
                }
            ];

            // --- DOM Elements ---
            // Main sections
            const flashcardSection = document.getElementById('flashcard-section');
            const quizSection = document.getElementById('quiz-section');
            const showFlashcardsBtn = document.getElementById('show-flashcards-btn');
            const showQuizBtn = document.getElementById('show-quiz-btn');

            // Flashcard elements
            const card = document.getElementById('flashcard');
            const frontTextElement = document.getElementById('card-front-text');
            const backTextElement = document.getElementById('card-back-text');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const progressText = document.getElementById('progress-text');
            const categorySelect = document.getElementById('category-select');
            const shuffleBtn = document.getElementById('shuffle-btn');
            const showBackFirstToggle = document.getElementById('show-back-first-toggle');
            const cardContainerWrapper = document.getElementById('card-container-wrapper');

            // --- Nye Flashcard Feedback Elements ---
            const flashcardFeedbackButtons = document.getElementById('flashcard-feedback-buttons');
            const feedbackCorrectBtn = document.getElementById('feedback-correct-btn');
            const feedbackUnsureBtn = document.getElementById('feedback-unsure-btn');
            const feedbackIncorrectBtn = document.getElementById('feedback-incorrect-btn');

            // Quiz elements (common)
            const quizChapterSelect = document.getElementById('quiz-chapter-select');
            // Check if quizQuestions is empty before trying to map chapters
            const allChapters = quizQuestions.length > 0 ? [...new Set(quizQuestions.map(q => q.chapter))] : []; // Get all unique chapter names


            // All Questions Mode elements
            const allQuestionsModeContainer = document.getElementById('all-questions-mode-container');
            const startAllQuizBtn = document.getElementById('start-all-quiz-btn');
            const quizQuestionContainer = document.getElementById('quiz-question-container');
            const submitQuizBtn = document.getElementById('submit-quiz-btn');
            const restartAllQuizBtn = document.getElementById('restart-all-quiz-btn');
            const quizResults = document.getElementById('quiz-results');

            // One Question at a Time Mode elements
            const oneByOneModeContainer = document.getElementById('one-by-one-mode-container');
            const showAllQuestionsModeBtn = document.getElementById('show-all-questions-mode-btn');
            const showOneByOneModeBtn = document.getElementById('show-one-by-one-mode-btn');
            const activeChaptersDisplay = document.getElementById('active-chapters-display');
            const startOneByOneQuizBtn = document.getElementById('start-one-by-one-quiz-btn');
            const singleQuestionDisplay = document.getElementById('single-question-display');
            const singleQuestionText = document.getElementById('single-question-text');
            const singleOptionsContainer = document.getElementById('single-options-container');
            const singleExplanationText = document.getElementById('single-explanation-text');
            const checkSingleAnswerBtn = document.getElementById('check-single-answer-btn');
            const nextSingleQuestionBtn = document.getElementById('next-single-question-btn');
            const restartSingleQuizBtn = document.getElementById('restart-single-quiz-btn');
            const singleQuizProgress = document.getElementById('single-quiz-progress');
            const singleQuizResults = document.getElementById('single-quiz-results');


            // --- Flashcard State ---
            let currentFlashcards = []; // All flashcards in the currently selected category
            let currentFlashcardIndex = 0;
            let isFlipped = false;
            let showBackFirst = false;

            // --- Nye Flashcard Feedback State Variabler ---
            let cardsToReview = []; // Kort markeret som 'Ikke sikker' eller 'Forkert'
            let masteredCards = []; // Kort markeret som 'Rigtigt' (skal ikke ses igen i denne session)
            let currentDeck = []; // Den *aktuelle* bunke kort, vi gennemg√•r (kan indeholde kort fra cardsToReview)

            // --- Quiz State (Common) ---
            // Default to only Chapter 1 initially
            let selectedQuizChapters = allChapters.length > 0 ? allChapters.filter(chapter => parseInt(chapter.replace('Chapter ', '')) === 1) : []; 
            let filteredQuizQuestions = [];

            // --- All Questions Mode State ---
            let allUserAnswers = {}; // Store user's selected answers for "all questions" mode

            // --- One Question at a Time Mode State ---
            let oneByOneActiveQuestions = []; // Questions currently in play for one-by-one mode
            let currentOneByOneQuestionIndex = 0;
            let oneByOneCorrectStreaks = {}; // Tracks correct streaks for each question ID
            let oneByOneUserAnswer = null; // Stores selected answer for current single question

            // --- Section & Mode Visibility ---
            function showMainSection(sectionId) {
                console.log(`Showing section: ${sectionId}`);
                flashcardSection.style.display = 'none';
                quizSection.style.display = 'none';
                document.getElementById(sectionId).style.display = 'block';

                if (sectionId === 'flashcard-section') {
                    showFlashcardsBtn.classList.add('bg-blue-600', 'hover:bg-blue-700');
                    showFlashcardsBtn.classList.remove('bg-gray-500', 'hover:bg-gray-600');
                    showQuizBtn.classList.remove('bg-blue-600', 'hover:bg-blue-700');
                    showQuizBtn.classList.add('bg-gray-500', 'hover:bg-gray-600');
                } else { // Quiz Section
                    showFlashcardsBtn.classList.remove('bg-blue-600', 'hover:bg-blue-700');
                    showFlashcardsBtn.classList.add('bg-gray-500', 'hover:bg-gray-600');
                    showQuizBtn.classList.add('bg-blue-600', 'hover:bg-blue-700');
                    showQuizBtn.classList.remove('bg-gray-500', 'hover:bg-gray-600');
                    // Default to all questions mode when quiz section is opened
                    showQuizMode('all_questions');
                }
            }

            function showQuizMode(mode) {
                console.log(`Showing quiz mode: ${mode}`);
                allQuestionsModeContainer.style.display = 'none';
                oneByOneModeContainer.style.display = 'none';

                if (mode === 'all_questions') {
                    allQuestionsModeContainer.style.display = 'block';
                    showAllQuestionsModeBtn.classList.add('bg-blue-600', 'hover:bg-blue-700');
                    showAllQuestionsModeBtn.classList.remove('bg-gray-500', 'hover:bg-gray-600');
                    showOneByOneModeBtn.classList.remove('bg-blue-600', 'hover:bg-blue-700');
                    showOneByOneModeBtn.classList.add('bg-gray-500', 'hover:bg-gray-600');
                    renderQuizAllQuestions(); // Render the quiz if chapters are selected
                } else { // one_by_one
                    oneByOneModeContainer.style.display = 'block';
                    showOneByOneModeBtn.classList.add('bg-blue-600', 'hover:bg-blue-700');
                    showOneByOneModeBtn.classList.remove('bg-gray-500', 'hover:bg-gray-600');
                    showAllQuestionsModeBtn.classList.remove('bg-blue-600', 'hover:bg-blue-700');
                    showAllQuestionsModeBtn.classList.add('bg-gray-500', 'hover:bg-gray-600');
                    updateActiveChaptersDisplay();
                    resetOneByOneQuiz(); // Prepare the one-by-one quiz
                }
            }

            // --- Flashcard Functions ---
            function populateCategorySelect() {
                console.log("Populating category select...");
                categorySelect.innerHTML = '';
                // Tilf√∏j "Bland alle kapitler" som den f√∏rste mulighed
                const allCategoriesOption = document.createElement('option');
                allCategoriesOption.value = 'all_chapters_shuffled';
                allCategoriesOption.textContent = 'Bland alle kapitler';
                categorySelect.appendChild(allCategoriesOption);

                for (const category in allFlashcardCategories) {
                    const option = document.createElement('option');
                    option.value = category;
                    option.textContent = category;
                    categorySelect.appendChild(option);
                }
                // V√¶lg den f√∏rste kategori (som nu er "Bland alle kapitler") som standard
                categorySelect.value = 'all_chapters_shuffled';
                loadCategory(categorySelect.value);
            }

            function shuffleArray(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
            }

            function loadCategory(categoryName) {
                console.log(`Loading category: ${categoryName}`);
                if (categoryName === 'all_chapters_shuffled') {
                    // Saml alle kort fra alle kategorier
                    let allCards = [];
                    for (const category in allFlashcardCategories) {
                        allCards = allCards.concat(allFlashcardCategories[category]);
                    }
                    currentFlashcards = allCards;
                } else {
                    currentFlashcards = [...(allFlashcardCategories[categoryName] || [])];
                }
                
                shuffleArray(currentFlashcards);
                currentFlashcardIndex = 0;
                resetFlashcardFeedback(); // Nulstil feedback-status, n√•r ny kategori indl√¶ses
                updateFlashcardUI();
            }

            function shuffleCurrentCards() {
                console.log("Shuffling current cards...");
                if (currentFlashcards.length === 0) {
                    console.log("No cards to shuffle.");
                    return;
                }
                // When shuffling, we effectively reset the review process for the current category
                loadCategory(categorySelect.value); // Reload the category to reset everything
            }

            function updateCardContent() {
                if (currentFlashcards.length > 0 && currentFlashcardIndex < currentFlashcards.length) {
                    const cardData = currentFlashcards[currentFlashcardIndex];
                    if (showBackFirst) {
                        frontTextElement.textContent = cardData.back;
                        backTextElement.textContent = cardData.front;
                    } else {
                        frontTextElement.textContent = cardData.front;
                        backTextElement.textContent = cardData.back;
                    }
                } else {
                    frontTextElement.textContent = "Ingen kort i denne kategori.";
                    backTextElement.textContent = "V√¶lg en kategori for at starte.";
                }
            }

            function updateFlashcardUI() {
                console.log(`Updating Flashcard UI. Index: ${currentFlashcardIndex}, Total: ${currentFlashcards.length}`);
                updateCardContent();
                if (currentFlashcards.length > 0) {
                    progressText.textContent = `Kort ${currentFlashcardIndex + 1} / ${currentFlashcards.length}`;
                    flashcardFeedbackButtons.classList.remove('hidden'); // Vis feedback-knapper
                } else {
                    progressText.textContent = `Kort 0 / 0`;
                    flashcardFeedbackButtons.classList.add('hidden'); // Skjul feedback-knapper
                }

                // Deaktiver feedback-knapperne, hvis der ikke er aktive kort, eller hvis alle kort er gennemg√•et
                if (currentFlashcards.length === 0 || currentFlashcardIndex === -1) {
                    feedbackCorrectBtn.disabled = true;
                    feedbackUnsureBtn.disabled = true;
                    feedbackIncorrectBtn.disabled = true;
                } else {
                    feedbackCorrectBtn.disabled = false;
                    feedbackUnsureBtn.disabled = false;
                    feedbackIncorrectBtn.disabled = false;
                }

                prevBtn.disabled = currentFlashcardIndex === 0 || currentFlashcards.length === 0;
                nextBtn.disabled = currentFlashcardIndex === currentFlashcards.length - 1 || currentFlashcards.length === 0 || currentFlashcardIndex === -1;
                shuffleBtn.disabled = currentFlashcards.length === 0;
                
                if (isFlipped) {
                    card.classList.remove('is-flipped');
                    isFlipped = false;
                }
            }

            function navigateFlashcards(direction) {
                console.log(`Navigating flashcards: ${direction}`);
                if (currentFlashcards.length === 0) return;

                cardContainerWrapper.classList.add('fade-out');

                setTimeout(() => {
                    currentFlashcardIndex += direction;
                    if (currentFlashcardIndex < 0) currentFlashcardIndex = 0;
                    if (currentFlashcardIndex >= currentFlashcards.length) currentFlashcardIndex = currentFlashcards.length - 1;
                    
                    updateFlashcardUI();
                    
                    cardContainerWrapper.classList.remove('fade-out');
                }, 300);
            }

            function handleFeedback(feedbackType) {
                console.log(`Handling feedback: ${feedbackType}`);
                if (currentFlashcards.length === 0 || currentFlashcardIndex < 0 || currentFlashcardIndex >= currentFlashcards.length) {
                    console.log("No current flashcard to give feedback on.");
                    return;
                }

                const currentCard = currentFlashcards[currentFlashcardIndex];
                
                // Remove the card from cardsToReview and masteredCards first to ensure correct state after feedback
                cardsToReview = cardsToReview.filter(card => card !== currentCard);
                masteredCards = masteredCards.filter(card => card !== currentCard);

                switch (feedbackType) {
                    case 'correct':
                        masteredCards.push(currentCard);
                        console.log("Card marked as correct.");
                        break;
                    case 'unsure':
                        cardsToReview.push(currentCard);
                        console.log("Card marked as unsure.");
                        break;
                    case 'incorrect':
                        cardsToReview.push(currentCard);
                        console.log("Card marked as incorrect.");
                        break;
                }

                // G√• til n√¶ste kort
                navigateToNextFlashcardAfterFeedback();
            }

            function navigateToNextFlashcardAfterFeedback() {
                console.log("Navigating to next flashcard after feedback.");
                cardContainerWrapper.classList.add('fade-out');

                setTimeout(() => {
                    // Update currentDeck based on latest feedback
                    currentDeck = [];
                    // Add cards to review first, then other unmastered cards (that are not already in cardsToReview)
                    currentDeck.push(...cardsToReview);
                    currentDeck.push(...currentFlashcards.filter(card => 
                        !masteredCards.includes(card) && !cardsToReview.includes(card)
                    ));
                    shuffleArray(currentDeck); // Shuffle the deck for next round of review

                    console.log(`Current Deck length: ${currentDeck.length}, Mastered Cards: ${masteredCards.length}, Cards To Review: ${cardsToReview.length}`);

                    if (currentDeck.length === 0) {
                        // All cards mastered or reviewed
                        frontTextElement.textContent = "Alle kort er gennemg√•et! Godt arbejde!";
                        backTextElement.textContent = "Du kan blande kortene for at starte forfra eller v√¶lge en ny kategori.";
                        progressText.textContent = "F√¶rdig!";
                        prevBtn.disabled = true;
                        nextBtn.disabled = true;
                        shuffleBtn.disabled = false; // Allow shuffling to restart
                        flashcardFeedbackButtons.classList.add('hidden');
                        cardContainerWrapper.classList.remove('fade-out');
                        currentFlashcardIndex = -1; // Indicate no card is currently active
                        console.log("All cards completed.");
                        return;
                    }

                    // Find the index of the next card in the *original* currentFlashcards array
                    // This ensures currentFlashcardIndex always refers to the original array
                    currentFlashcardIndex = currentFlashcards.indexOf(currentDeck[0]); 
                    console.log(`Next card index in original array: ${currentFlashcardIndex}`);
                    
                    updateFlashcardUI();
                    cardContainerWrapper.classList.remove('fade-out');
                }, 300);
            }

            function resetFlashcardFeedback() {
                console.log("Resetting flashcard feedback and deck.");
                cardsToReview = [];
                masteredCards = [];
                currentDeck = [...currentFlashcards]; // S√¶t det aktuelle d√¶k til alle kort ved start
                shuffleArray(currentDeck); // Bland kortene i det initiale d√¶k
                if (currentDeck.length > 0) {
                    currentFlashcardIndex = currentFlashcards.indexOf(currentDeck[0]); // S√∏rg for at index peger p√• f√∏rste kort i det blandede d√¶k
                    flashcardFeedbackButtons.classList.remove('hidden'); // Vis knapperne, hvis der er kort
                } else {
                    currentFlashcardIndex = -1; // Ingen aktive kort
                    flashcardFeedbackButtons.classList.add('hidden'); // Skjul knapperne
                }
            }

            // --- Flashcard Event Listeners ---
            card.addEventListener('click', () => {
                if (currentFlashcards.length > 0 && currentFlashcardIndex !== -1) { // Check if a card is active
                    card.classList.toggle('is-flipped');
                    isFlipped = !isFlipped;
                }
            });

            // Genskab event listener for nextBtn for simpel fremad-navigation
            nextBtn.addEventListener('click', () => {
                // Hvis der er kort, og vi ikke er ved det sidste kort, navig√©r.
                if (currentFlashcards.length > 0 && currentFlashcardIndex < currentFlashcards.length - 1) {
                    navigateFlashcards(1);
                }
            });

            // Genskab event listener for prevBtn for simpel bagud-navigation
            prevBtn.addEventListener('click', () => {
                // Hvis der er kort, og vi ikke er ved det f√∏rste kort, navig√©r.
                if (currentFlashcards.length > 0 && currentFlashcardIndex > 0) {
                    navigateFlashcards(-1);
                }
            });
            
            categorySelect.addEventListener('change', (event) => loadCategory(event.target.value));
            shuffleBtn.addEventListener('click', shuffleCurrentCards);

            showBackFirstToggle.addEventListener('change', () => {
                showBackFirst = showBackFirstToggle.checked;
                updateFlashcardUI();
            });
            
            document.addEventListener('keydown', (e) => {
                if (flashcardSection.style.display === 'block' && currentFlashcards.length > 0 && currentFlashcardIndex !== -1) { // Kun respondere hvis flashcard sektionen er aktiv og der er et aktivt kort
                    if (e.key === 'ArrowLeft' && !prevBtn.disabled) { // Pil venstre for 'Forrige'
                        navigateFlashcards(-1);
                    } else if (e.key === 'ArrowRight' && !nextBtn.disabled) { // Pil h√∏jre for 'N√¶ste'
                        navigateFlashcards(1);
                    } else if (e.key === ' ') { // Mellemrum til at vende kort
                        e.preventDefault();
                        card.classList.toggle('is-flipped');
                        isFlipped = !isFlipped;
                    } else if (e.key === '1') { // Tal 1 for Rigtigt
                        e.preventDefault();
                        handleFeedback('correct');
                    } else if (e.key === '2') { // Tal 2 for Ikke sikker
                        e.preventDefault();
                        handleFeedback('unsure');
                    } else if (e.key === '3') { // Tal 3 for Forkert
                        e.preventDefault();
                        handleFeedback('incorrect');
                    }
                }
            });

            // --- Flashcard Feedback Event Listeners ---
            feedbackCorrectBtn.addEventListener('click', () => handleFeedback('correct'));
            feedbackUnsureBtn.addEventListener('click', () => handleFeedback('unsure'));
            feedbackIncorrectBtn.addEventListener('click', () => handleFeedback('incorrect'));


            // --- Quiz Functions (Common) ---
            function populateQuizChapterSelect() {
                console.log("Populating quiz chapter select...");
                quizChapterSelect.innerHTML = '';
                
                // Kun popul√©r, hvis der er sp√∏rgsm√•l
                if (allChapters.length > 0) {
                    allChapters.forEach(chapter => {
                        const option = document.createElement('option');
                        option.value = chapter;
                        option.textContent = chapter;
                        // Select only Chapter 1 by default initially
                        if (parseInt(chapter.replace('Chapter ', '')) === 1) {
                            option.selected = true;
                        }
                        quizChapterSelect.appendChild(option);
                    });
                    // Initial filter based on default selection
                    filterQuizQuestions();
                } else {
                    const option = document.createElement('option');
                    option.value = '';
                    option.textContent = 'Ingen quiz-sp√∏rgsm√•l tilg√¶ngelige';
                    option.disabled = true;
                    option.selected = true;
                    quizChapterSelect.appendChild(option);
                    // Deaktiver startknapper, hvis ingen sp√∏rgsm√•l
                    startAllQuizBtn.disabled = true;
                    startOneByOneQuizBtn.disabled = true;
                }
            }

            function filterQuizQuestions() {
                console.log("Filtering quiz questions...");
                selectedQuizChapters = Array.from(quizChapterSelect.selectedOptions).map(option => option.value);
                
                filteredQuizQuestions = quizQuestions.filter(q => selectedQuizChapters.includes(q.chapter));
                shuffleArray(filteredQuizQuestions); // Shuffle filtered questions
                
                // Reset state for both quiz modes
                resetAllQuestionsQuiz();
                resetOneByOneQuiz();
                
                updateActiveChaptersDisplay(); // Update display for one-by-one mode
            }

            // --- Quiz Functions (All Questions Mode) ---
            function renderQuizAllQuestions() {
                console.log("Rendering all questions quiz...");
                quizQuestionContainer.innerHTML = '';
                if (filteredQuizQuestions.length === 0) {
                    quizQuestionContainer.innerHTML = '<p class="text-center text-gray-600">V√¶lg venligst mindst √©t kapitel for at starte quizzen.</p>';
                    submitQuizBtn.disabled = true;
                    return;
                }

                filteredQuizQuestions.forEach((q, qIndex) => {
                    const questionCard = document.createElement('div');
                    questionCard.className = 'question-card';
                    questionCard.innerHTML = `
                        <p class="font-semibold text-lg mb-4 text-gray-800">${q.question}</p>
                        <div class="options-container">
                            ${q.options.map((option, oIndex) => `
                                <label class="answer-option" data-question-index="${qIndex}" data-option-index="${String.fromCharCode(97 + oIndex)}">
                                    <input type="radio" name="question-${qIndex}" value="${String.fromCharCode(97 + oIndex)}" class="form-radio text-blue-600">
                                    <span class="ml-2">${String.fromCharCode(97 + oIndex)}. ${option}</span>
                                </label>
                            `).join('')}
                        </div>
                        <p class="explanation mt-2 hidden" id="explanation-${qIndex}"></p>
                    `;
                    quizQuestionContainer.appendChild(questionCard);
                });

                // Re-attach event listeners for radio buttons to store answers
                quizQuestionContainer.querySelectorAll('input[type="radio"]').forEach(radio => {
                    radio.addEventListener('change', (event) => {
                        const qIndex = event.target.name.split('-')[1];
                        allUserAnswers[qIndex] = event.target.value;
                        checkAllQuestionsAnswered();
                    });
                });
                checkAllQuestionsAnswered(); // Initial check
            }

            function checkAllQuestionsAnswered() {
                // RETTELSE HER: Brug allUserAnswers for "Alle sp√∏rgsm√•l" tilstand
                const allAnswered = filteredQuizQuestions.every((_, index) => allUserAnswers.hasOwnProperty(index));
                submitQuizBtn.disabled = !allAnswered;
            }

            function submitAllQuestionsQuiz() {
                console.log("Submitting all questions quiz...");
                let correctCount = 0;
                filteredQuizQuestions.forEach((q, qIndex) => {
                    const selectedOption = allUserAnswers[qIndex];
                    const correctOption = q.correctAnswer;
                    const optionsContainer = quizQuestionContainer.querySelector(`[name="question-${qIndex}"]`).closest('.options-container');
                    const explanationElement = document.getElementById(`explanation-${qIndex}`);

                    // Disable all radio buttons for this question
                    optionsContainer.querySelectorAll('input[type="radio"]').forEach(radio => radio.disabled = true);

                    optionsContainer.querySelectorAll('.answer-option').forEach(label => {
                        const optionValue = label.querySelector('input').value;
                        if (optionValue === correctOption) {
                            label.classList.add('correct-answer');
                        }
                        if (optionValue === selectedOption && optionValue !== correctOption) {
                            label.classList.add('incorrect-answer');
                        }
                    });

                    if (selectedOption === correctOption) {
                        correctCount++;
                        explanationElement.textContent = `Korrekt! ${q.feedback}`;
                        explanationElement.classList.add('correct');
                        explanationElement.classList.remove('incorrect');
                    } else {
                        explanationElement.textContent = `Forkert. Det korrekte svar var ${correctOption.toUpperCase()}. ${q.feedback}`;
                        explanationElement.classList.add('incorrect');
                        explanationElement.classList.remove('correct');
                    }
                    explanationElement.classList.remove('hidden');
                });

                quizResults.textContent = `Du svarede korrekt p√• ${correctCount} ud af ${filteredQuizQuestions.length} sp√∏rgsm√•l.`;
                quizResults.classList.remove('hidden');
                submitQuizBtn.disabled = true;
                restartAllQuizBtn.classList.remove('hidden');
            }

            function resetAllQuestionsQuiz() {
                console.log("Resetting all questions quiz...");
                allUserAnswers = {};
                quizResults.classList.add('hidden');
                restartAllQuizBtn.classList.add('hidden');
                renderQuizAllQuestions(); // Re-render quiz with current chapter selection
                submitQuizBtn.disabled = filteredQuizQuestions.length === 0;
            }

            // --- Quiz Functions (One Question at a Time Mode) ---
            function updateActiveChaptersDisplay() {
                console.log("Updating active chapters display...");
                if (selectedQuizChapters.length > 0) {
                    activeChaptersDisplay.textContent = selectedQuizChapters.join(', ');
                } else {
                    activeChaptersDisplay.textContent = 'Ingen kapitler valgt';
                }
            }

            function startOneByOneQuiz() {
                console.log("Starting one-by-one quiz...");
                // Reinitialize active questions based on current filtered questions
                oneByOneActiveQuestions = filteredQuizQuestions.map(q => ({
                    ...q,
                    correctStreak: oneByOneCorrectStreaks[q.question] || 0 // Restore streak if exists
                }));
                
                // Remove questions already mastered from previous sessions if they meet criterion
                oneByOneActiveQuestions = oneByOneActiveQuestions.filter(q => q.correctStreak < 2);

                shuffleArray(oneByOneActiveQuestions);
                currentOneByOneQuestionIndex = 0;

                singleQuizResults.classList.add('hidden');
                restartSingleQuizBtn.classList.add('hidden');

                if (oneByOneActiveQuestions.length > 0) {
                    singleQuestionDisplay.classList.remove('hidden');
                    renderSingleQuestion(oneByOneActiveQuestions[currentOneByOneQuestionIndex]);
                    updateSingleQuizUI();
                } else {
                    singleQuestionDisplay.classList.add('hidden');
                    singleQuizProgress.textContent = "Ingen sp√∏rgsm√•l tilg√¶ngelige. V√¶lg kapitler eller start forfra.";
                    checkSingleAnswerBtn.disabled = true;
                    nextSingleQuestionBtn.classList.add('hidden');
                    restartSingleQuizBtn.classList.remove('hidden');
                }
            }

            function renderSingleQuestion(question) {
                console.log("Rendering single question...");
                singleQuestionText.textContent = question.question;
                singleOptionsContainer.innerHTML = '';
                singleExplanationText.classList.add('hidden');
                singleExplanationText.classList.remove('correct', 'incorrect');
                oneByOneUserAnswer = null; // Reset user answer for the new question

                question.options.forEach((option, oIndex) => {
                    const label = document.createElement('label');
                    label.className = 'answer-option';
                    label.innerHTML = `
                        <input type="radio" name="single-question-option" value="${String.fromCharCode(97 + oIndex)}" class="form-radio text-blue-600">
                        <span class="ml-2">${String.fromCharCode(97 + oIndex)}. ${option}</span>
                    `;
                    label.addEventListener('click', () => {
                        if (label.querySelector('input').disabled === false) { // Only allow selection if not already checked
                            oneByOneUserAnswer = String.fromCharCode(97 + oIndex);
                            checkSingleAnswerBtn.disabled = false; // Enable check button on selection
                        }
                    });
                    singleOptionsContainer.appendChild(label);
                });

                // Enable check button, disable next button
                checkSingleAnswerBtn.disabled = true; // Initially disabled until an option is chosen
                nextSingleQuestionBtn.classList.add('hidden');
                singleQuestionDisplay.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }

            function updateSingleQuizUI() {
                console.log("Updating single quiz UI...");
                singleQuizProgress.textContent = `Sp√∏rgsm√•l ${currentOneByOneQuestionIndex + 1} / ${oneByOneActiveQuestions.length}`;
                // checkSingleAnswerBtn.disabled = (oneByOneUserAnswer === null); // Removed, now enabled by option click
                if (oneByOneActiveQuestions.length === 0) {
                    singleQuizProgress.textContent = `F√¶rdig! Du har mestret alle ${filteredQuizQuestions.length} sp√∏rgsm√•l i de valgte kapitler.`;
                    singleQuestionDisplay.classList.add('hidden');
                    checkSingleAnswerBtn.classList.add('hidden');
                    nextSingleQuestionBtn.classList.add('hidden');
                    restartSingleQuizBtn.classList.remove('hidden');
                    console.log("All single questions mastered.");
                    return;
                } else if (currentOneByOneQuestionIndex >= oneByOneActiveQuestions.length) {
                    currentOneByOneQuestionIndex = oneByOneActiveQuestions.length - 1; // Stay on last question if navigated too far
                }
            }

            function checkSingleAnswer() {
                console.log("Checking single answer...");
                const currentQuestion = oneByOneActiveQuestions[currentOneByOneQuestionIndex];
                const selectedOptionValue = oneByOneUserAnswer;
                const correctOptionValue = currentQuestion.correctAnswer;
                const options = singleOptionsContainer.querySelectorAll('.answer-option');

                // Disable all options and check button after checking
                options.forEach(label => {
                    label.querySelector('input').disabled = true;
                    const optionValue = label.querySelector('input').value;
                    if (optionValue === correctOptionValue) {
                        label.classList.add('correct-answer');
                    }
                    if (optionValue === selectedOptionValue && optionValue !== correctOptionValue) {
                        label.classList.add('incorrect-answer');
                    }
                });
                checkSingleAnswerBtn.disabled = true;
                nextSingleQuestionBtn.classList.remove('hidden');

                if (selectedOptionValue === correctOptionValue) {
                    singleExplanationText.textContent = `Korrekt! ${currentQuestion.feedback}`;
                    singleExplanationText.classList.add('correct');
                    singleExplanationText.classList.remove('incorrect');
                    currentQuestion.correctStreak = (currentQuestion.correctStreak || 0) + 1;
                    // Store streak globally for persistent tracking across restarts for this mode
                    oneByOneCorrectStreaks[currentQuestion.question] = currentQuestion.correctStreak; 
                } else {
                    singleExplanationText.textContent = `Forkert. Det korrekte svar var ${correctOptionValue.toUpperCase()}. ${currentQuestion.feedback}`;
                    singleExplanationText.classList.add('incorrect');
                    singleExplanationText.classList.remove('correct');
                    currentQuestion.correctStreak = 0; // Reset streak on incorrect answer
                    oneByOneCorrectStreaks[currentQuestion.question] = 0;
                }
                singleExplanationText.classList.remove('hidden');
            }

            function nextSingleQuestion() {
                console.log("Moving to next single question...");
                const currentQuestion = oneByOneActiveQuestions[currentOneByOneQuestionIndex];

                // If question is mastered (correct twice), remove it from active questions
                if (currentQuestion.correctStreak >= 2) {
                    oneByOneActiveQuestions.splice(currentOneByOneQuestionIndex, 1);
                    // Adjust index if we removed the last question
                    if (currentOneByOneQuestionIndex >= oneByOneActiveQuestions.length && oneByOneActiveQuestions.length > 0) {
                        currentOneByOneQuestionIndex = oneByOneActiveQuestions.length - 1;
                    } else if (oneByOneActiveQuestions.length === 0) {
                        currentOneByOneQuestionIndex = 0; // Reset to 0 if all are gone
                    }
                } else {
                    currentOneByOneQuestionIndex++;
                }

                // If all questions are done, or no more active questions
                if (oneByOneActiveQuestions.length === 0) {
                    singleQuizProgress.textContent = `F√¶rdig! Du har mestret alle sp√∏rgsm√•l i de valgte kapitler.`;
                    singleQuestionDisplay.classList.add('hidden');
                    checkSingleAnswerBtn.classList.add('hidden');
                    nextSingleQuestionBtn.classList.add('hidden');
                    restartSingleQuizBtn.classList.remove('hidden');
                    console.log("All single questions mastered.");
                    return;
                }

                // Loop back to the start if we reach the end and there are still questions
                if (currentOneByOneQuestionIndex >= oneByOneActiveQuestions.length) {
                    currentOneByOneQuestionIndex = 0; // Loop back to the first remaining question
                    shuffleArray(oneByOneActiveQuestions); // Reshuffle remaining questions for variety
                }

                renderSingleQuestion(oneByOneActiveQuestions[currentOneByOneQuestionIndex]);
                updateSingleQuizUI();
                checkSingleAnswerBtn.classList.remove('hidden');
                nextSingleQuestionBtn.classList.add('hidden');
            }

            function resetOneByOneQuiz() {
                console.log("Resetting one-by-one quiz...");
                // Reset all streaks for questions in the original filtered set
                // It's important to reset streaks for the *original* questions, not just the currently active subset
                filteredQuizQuestions.forEach(q => oneByOneCorrectStreaks[q.question] = 0);
                startOneByOneQuiz(); // Restart the quiz
            }


            // --- Quiz Event Listeners (Common and Specific) ---
            // Main Section Navigation
            showFlashcardsBtn.addEventListener('click', () => showMainSection('flashcard-section'));
            showQuizBtn.addEventListener('click', () => showMainSection('quiz-section'));

            // Quiz Mode Navigation
            showAllQuestionsModeBtn.addEventListener('click', () => showQuizMode('all_questions'));
            showOneByOneModeBtn.addEventListener('click', () => showQuizMode('one_by_one'));

            // Chapter Selection (applies to both quiz modes)
            quizChapterSelect.addEventListener('change', filterQuizQuestions); // Filter questions when chapter selection changes

            // All Questions Mode Specific
            startAllQuizBtn.addEventListener('click', renderQuizAllQuestions);
            submitQuizBtn.addEventListener('click', submitAllQuestionsQuiz);
            restartAllQuizBtn.addEventListener('click', resetAllQuestionsQuiz);

            // One Question at a Time Mode Specific
            startOneByOneQuizBtn.addEventListener('click', startOneByOneQuiz);
            checkSingleAnswerBtn.addEventListener('click', checkSingleAnswer);
            nextSingleQuestionBtn.addEventListener('click', nextSingleQuestion);
            restartSingleQuizBtn.addEventListener('click', resetOneByOneQuiz);
            
            // Initial setup for quiz chapter selection (to be done on page load)
            populateQuizChapterSelect();

            // --- Initialisation ---
            populateCategorySelect(); // Populate flashcard categories
            showMainSection('flashcard-section'); // Show flashcards by default
            
            console.log("App initialization complete.");
        }); // End of DOMContentLoaded listener
    </script>
</body>
</html>
